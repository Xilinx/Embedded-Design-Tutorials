


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Debugging Using the Vitis Software Platform" href="3-debugging.html" />
    <link rel="prev" title="Getting Started" href="1-getting-started.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> 嵌入式设计教程
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
       <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
                 <p class="caption"><span class="caption-text">Versal 嵌入式设计教程</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-getting-started.html">入门指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-cips-noc-ip-config.html">Versal ACAP CIPS 和 NoC (DDR) IP 核配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-debugging.html">使用 Vitis 软件平台进行调试</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-boot-and-config.html">启动和配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-system-design-example.html">使用标量引擎和自适应引擎的系统设计示例</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-system-design-example-HSDP.html">面向含 SmartLynq+ 模块的高速调试端口的系统设计示例</a></li>
<li class="toctree-l1"><a class="reference internal" href="A-creating-plm.html">附录：创建 PLM</a></li>
</ul>     
              <p class="caption"><span class="caption-text">版本</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master">主干</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">本页</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="_sources/2-cips-noc-ip-config.md.txt"
						rel="nofollow">显示源代码</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">嵌入式设计教程</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Versal ACAP CIPS 和 NoC (DDR) IP 核配置</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/2-cips-noc-ip-config.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="versal-acap-cips-noc-ddr-ip">
<h1>Versal ACAP CIPS 和 NoC (DDR) IP 核配置<a class="headerlink" href="#versal-acap-cips-noc-ddr-ip" title="Permalink to this headline">¶</a></h1>
<p>Versal ACAP CIPS IP 核允许您配置处理器系统和 PMC 块，包括启动模式、外设、时钟、接口和中断等。</p>
<p>本章描述了如何执行以下任务：</p>
<ul class="simple">
<li><p>创建 Vivado® 工程以供 Versal™ ACAP 通过配置 CIPS IP 核来选择相应的启动器件和外设。</p></li>
<li><p>在 Arm® Cortex™-A72 的片上存储器 (OCM) 上创建并运行 Hello World 软件应用。</p></li>
<li><p>在 Arm Cortex- R5F 的紧密耦合内存 (TCM) 上创建并运行 Hello World 软件应用。</p></li>
</ul>
<p>NoC IP 核可帮助配置 DDR 内存和跨 DDR 内存的数据路径，以及系统中的处理引擎（标量引擎 (Scalar Engine)、自适应引擎 (Adaptable Engine) 和 AI 引擎 (AI Engine)）。</p>
<ul class="simple">
<li><p>在 Arm Cortex-A72 上使用 DDR 作为内存来创建并运行 Hello World 软件应用。</p></li>
<li><p>在 Arm Cortex-R5F 上使用 DDR 作为内存来创建并运行 Hello World 软件应用。</p></li>
</ul>
<div class="section" id="id1">
<h2>要求<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>要创建并运行本章中所述 Hello World 应用，您需要安装 Vitis™ 统一软件平台。如需了解安装过程，请参阅《Vitis 统一软件平台文档：嵌入式软件开发》(<a class="reference external" href="https://china.xilinx.com/cgi-bin/docs/rdoc?v=latest%3Bd=ug1400-vitis-embedded.pdf">UG1400</a>)。</p>
</div>
<div class="section" id="cips-ip">
<h2>CIPS IP 核配置<a class="headerlink" href="#cips-ip" title="Permalink to this headline">¶</a></h2>
<p>创建 Versal ACAP 系统设计中包括配置 CIPS IP 核以选择相应的启动器件和外设。首先，如果 CIPS IP 核外设和可用的多路复用 I/O (MIO) 连接满足要求，则无需任何 PL 组件。本章将指导您逐步完成创建基于 CIPS IP 核的简单设计的过程。</p>
<div class="section" id="versal-acap">
<h3>使用 Versal ACAP 创建全新的嵌入式工程<a class="headerlink" href="#versal-acap" title="Permalink to this headline">¶</a></h3>
<p>对于本示例，请启动 Vivado® Design Suite 并创建顶层为嵌入式处理器系统的工程。</p>
<div class="section" id="id2">
<h4>启动设计<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ol>
<li><p>启动 Vivado® Design Suite。</p></li>
<li><p>在 Tcl 控制台 (Tcl Console) 中，输入以下命令以启用 ES1 评估板：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable_beta_device</span>
</pre></div>
</div>
<p>按 <strong>Enter</strong> 键。</p>
</li>
<li><p>在 Vivado“Quick Start”页面中，单击“<strong>创建工程 (Create Project)</strong>”以打开“新建工程 (New Project)”Wizard。</p></li>
<li><p>使用下表中的信息在每个 Wizard 屏幕中选择相应选项。</p>
<p>表 1：<strong>系统属性设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th align="left">Wizard 屏幕系统</th>
<th align="left">系统属性</th>
<th align="left">所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">工程名称 (Project Name)</td>
<td align="left">工程名称 (Project Name)</td>
<td align="left">edt_versal</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">工程位置 (Project Location)</td>
<td align="left">C:/edt</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">创建工程子目录 (Create Project Subdirectory)</td>
<td align="left">保留勾选此项</td>
</tr>
<tr>
<td align="left">工程类型 (Project Type)</td>
<td align="left">指定要创建的工程类型。您可从 RTL 或已综合的 EDIF 开始着手</td>
<td align="left">RTL 工程 (RTL Project)</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">“当前请勿指定源代码 (Do not specify sources at this time)”复选框</td>
<td align="left">保留勾选此项</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">“工程为可扩展 Vitit 平台 (Project is an extensible Vitis platform)”复选框</td>
<td align="left">保留勾选此项</td>
</tr>
<tr>
<td align="left">添加源代码 (Add Sources)</td>
<td align="left">请勿对此屏幕执行任何更改</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">添加约束 (Add Constraints)</td>
<td align="left">请勿对此屏幕执行任何更改</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">默认器件 (Default Part)</td>
<td align="left">选择</td>
<td align="left"><strong>开发板</strong></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">显示名称 (Display Name)</td>
<td align="left">Versal VMK180/VCK190 评估平台</td>
</tr>
<tr>
<td align="left">工程摘要 (Project Summary)</td>
<td align="left">工程摘要 (Project Summary)</td>
<td align="left">复查工程摘要信息</td>
</tr>
</tbody>
</table><ol class="simple">
<li><p>单击“<strong>完成 (Finish)</strong>”。这样即可关闭“New Project”Wizard，并在 Vivado 设计工具中打开您刚创建的工程。</p></li>
</ol>
<blockquote>
<div><p><strong>注意</strong>：选择开发板时，请勾选版本号。对于 ES1 硅片，开发板版本为 1.0，对于量产硅片，开发板版本为 2.0。请根据开发板上的硅片选择相应的版本。</p>
</div></blockquote>
</div>
<div class="section" id="id3">
<h4>创建嵌入式处理器工程<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>要创建嵌入式处理器工程，请执行以下操作：</p>
<ol>
<li><p>在 Flow Navigator 中的 IP integrator 下，单击“<strong>创建块设计 (Create Block Design)</strong>”。</p>
<p><img alt="_images/image5.png" src="../../_images/image5.png" /></p>
<p>这样即可打开“Create Block Design”Wizard。</p>
</li>
<li><p>在“Create Block Design”Wizard 中使用以下信息选择相应的选项。</p>
<p>表 2：<strong>系统属性设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th align="left">Wizard 屏幕</th>
<th align="left">系统属性</th>
<th align="left">所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">创建块设计 (Create Block Design)</td>
<td align="left">设计名称 (Design Name)</td>
<td align="left">edt_versal</td>
</tr>
<tr>
<td align="left"></td>
<td align="left">目录 (Directory)</td>
<td align="left"><code>&lt;Local to Project&gt;</code></td>
</tr>
<tr>
<td align="left"></td>
<td align="left">指定源代码集合 (Specify Source Set)</td>
<td align="left">设计源代码</td>
</tr>
</tbody>
</table><ol>
<li><p>单击“<strong>确定 (OK)</strong>”。</p>
<p>这样会打开“框图 (Diagram)”窗口视图，并显示消息称此设计为空。首先，添加来自 IP 目录的 IP。</p>
</li>
<li><p>单击“<strong>添加 IP (Add IP)</strong>”按钮 <img alt="_images/image6.png" src="../../_images/image6.png" />。</p></li>
<li><p>在搜索框中，输入 CIPS 以查找 Control, Interfaces and Processing System。</p></li>
<li><p>双击“<strong>Control, Interface &amp; Processing System IP</strong>”以将其添加到块设计中。CIPS IP 核会显示在“Diagram”视图中，如下图所示：<br /><img alt="_images/image7.png" src="../../_images/image7.png" /></p></li>
</ol>
</div>
<div class="section" id="vivado-design-suite-versal-acap-cips-ip">
<h4>在 Vivado Design Suite 中管理 Versal ACAP CIPS IP 核<a class="headerlink" href="#vivado-design-suite-versal-acap-cips-ip" title="Permalink to this headline">¶</a></h4>
<p>现在，您已将 Versal™ ACAP 的处理器系统添加到设计中，接下来即可开始管理可用选项。</p>
<ol>
<li><p>双击“模块框图 (Block Diagram)”窗口中的 versal_cips_0。</p></li>
<li><p>在“开发板 (Board)”选项卡中选择“<strong>cips fixed io</strong>”，如下图所示。</p>
<p><img alt="cips-fixed-io-selection" src="../../_images/cips-fixed-io.png" /></p>
</li>
<li><p>单击“OK”。默认情况下，CIPS 中未启用任何控件或接口。应用开发板预设即可在 CIPS 上启用相应外设，在开发板上这些外设的 MIO 管脚均已连接。</p></li>
<li><p>双击“模块框图 (Block Diagram)”窗口中的 versal_cips_0。这样会打开“重新自定义 IP (Re-customize IP)”对话框，如下图所示。</p>
<p><img alt="_images/image9.jpeg" src="../../_images/image9.jpeg" /></p>
</li>
<li><p>展开“<strong>PS-PMC</strong>”下拉菜单。单击“<strong>IO 配置 (IO Configuration)</strong>”，如下图所示。这样会打开“IO Configuration”对话框。</p>
<p>I/O Configuration 会启用处理器系统中的外设，并允许为关联的 MIO 选择管脚分配。外设配置如下图所示：</p>
<blockquote>
<div><p><strong>注意</strong>：块自动化设置 (Block Automation) 不会显式运行。当“开发板接口 (Board interface)”从“定制 (Custom)”更改为“cips fixed io”时，会将其禁用。</p>
</div></blockquote>
<p><img alt="_images/Recustomize-IP.PNG" src="../../_images/Recustomize-IP.PNG" /></p>
</li>
<li><p>单击“<strong>OK</strong>”以关闭 CIPS GUI。</p></li>
</ol>
</div>
<div class="section" id="id4">
<h4>验证设计并生成输出<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>要验证设计并生成输出文件，请执行以下步骤：</p>
<ol>
<li><p>右键单击“Block Diagram”视图中的空白区域并选择“<strong>验证设计 (Validate Design)</strong>”。</p>
<p>或者，您可按 <strong>F6</strong> 键。这样会显示如下消息对话框：</p>
<p><img alt="validation_message" src="../../_images/validation_message.PNG" /></p>
</li>
<li><p>在“Block Design”视图中，单击“<strong>源代码 (Sources)</strong>”选项卡。</p>
<p><img alt="_images/image13.png" src="../../_images/image13.png" /></p>
</li>
<li><p>单击“<strong>层级 (Hierarchy)</strong>”。</p></li>
<li><p>在“设计源代码 (Design Sources)”下，右键单击 <strong>edt_versal</strong> 并选择“<strong>创建 HDL 封装器 (Create HDL Wrapper)</strong>”。</p>
<p>这样会打开“Create HDL Wrapper”对话框。请使用此对话框来为处理器子系统创建 HDL 封装器文件。</p>
<blockquote>
<div><p><strong>提示</strong>：HDL 封装器是设计工具所需的顶层实体。</p>
</div></blockquote>
</li>
<li><p>选择“<strong>让 Vivado 管理封装器并自动更新 (Let Vivado manage wrapper and auto-update)</strong>”，然后单击“<strong>OK</strong>”。</p></li>
<li><p>在“块设计源代码 (Block Design Sources)”窗口中的“Design Sources”下，展开 <strong>edt_versal_wrapper</strong>。</p></li>
<li><p>右键单击标题为 edt_versal_i: edt_versal 的顶层模块框图 (edt_versal.bd) 并选择“<strong>生成输出文件 (Generate Output Products)</strong>”。</p>
<p>这样会打开“Generate Output Products”对话框，如下图所示。</p>
<p><img alt="_images/image15.png" src="../../_images/image15.png" /></p>
<blockquote>
<div><p><strong>注意</strong>：如果在 Windows 上运行 Vivado® Design Suite，则“运行设置 (Run Settings)”下的选项可能与此处所示选项不同。在此情况下，请使用默认设置继续执行操作。</p>
</div></blockquote>
</li>
<li><p>单击“<strong>生成 (Generate)</strong>”。</p>
<p>此步骤将为所选源代码构建所有必需的输出文件。例如，您无需手动为 IP 处理器系统创建约束。当您选中“<strong>Generate Output Products</strong>”时，Vivado 工具会自动为处理器子系统生成 XDC 文件。</p>
</li>
<li><p>当“Generate Output Products”进程完成后，请单击“<strong>OK</strong>”。单击底部窗口的“设计运行 (Design Runs)”选项卡，以查看“OOC 模块运行/综合/实现运行 (OOC Module Runs/Synthesis/Implementation runs)”。</p></li>
<li><p>在“Block Design Sources”窗口中，单击“<strong>IP 源代码 (IP Sources)</strong>”选项卡。您可在此处查看刚生成的输出文件，如下图所示。</p>
<p><img alt="_images/image16.png" src="../../_images/image16.png" /></p>
</li>
</ol>
</div>
<div class="section" id="id5">
<h4>综合、实现和生成器件镜像<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>请遵循以下步骤为设计生成器件镜像。</p>
<ol>
<li><p>转至“<strong>Flow Navigator → 编程与调试 (Program and Debug)</strong>”，并单击“<strong>生成器件镜像 (Generate Device Image)</strong>”。</p></li>
<li><p>这样会显示“无实现结果可用 (No Implementation Results Available)”菜单。单击“<strong>Yes</strong>”。</p></li>
<li><p>这样会显示“启动运行 (Launch Run)”菜单。单击“<strong>确定 (OK)</strong>”。</p>
<p>当“Device Image Generation”完成后，会显示“器件镜像生成已完成 (Device Image Generation Completed)”对话框。</p>
</li>
<li><p>单击“<strong>取消 (Cancel)</strong>”关闭此窗口。</p></li>
<li><p>生成器件镜像后，请导出硬件。</p></li>
</ol>
<blockquote>
<div><p><strong>注意</strong>：以下步骤为可选，您可跳过这些步骤并转至<a class="reference external" href="#%E5%AF%BC%E5%87%BA%E7%A1%AC%E4%BB%B6">导出硬件</a>部分。这些步骤提供了生成器件镜像的详细流程，包括先运行综合与实现，然后再生成器件镜像。如需了解生成器件镜像的流程，请遵循以下提供的步骤进行操作。</p>
</div></blockquote>
<ol>
<li><p>转至“<strong>Flow Navigator → 综合 (Synthesis)</strong>”、单击“<strong>运行综合 (Run Synthesis)</strong>”，然后单击“<strong>OK</strong>”。</p>
<p><img alt="_images/image17.png" src="../../_images/image17.png" /></p>
</li>
<li><p>如果 Vivado® 提示您在启动综合前保存工程，请单击“<strong>保存 (Save)</strong>”。</p>
<p>运行综合时，在右上角窗口中会显示其状态栏。在整个设计进程中，此状态栏会因各种原因而呈现假脱机状态。此状态栏表示进程正在后台运行。当综合完成后，会打开“综合已完成 (Synthesis Completed)”对话框。</p>
</li>
<li><p>选择“<strong>运行实现 (Run Implementation)</strong>”，然后单击“<strong>OK</strong>”。</p>
<p>当实现完成后，会打开“实现已完成 (Implementation Completed)”对话框。</p>
</li>
<li><p>选择“<strong>Generate Device Image</strong>”，然后单击“<strong>OK</strong>”。</p>
<p>当“Device Image Generation”完成后，会显示“器件镜像生成已完成 (Device Image Generation Completed)”对话框。</p>
</li>
<li><p>单击“<strong>取消 (Cancel)</strong>”关闭此窗口。</p>
<p>生成器件镜像后，请导出硬件。</p>
</li>
</ol>
</div>
<div class="section" id="id6">
<h4>导出硬件<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<ol>
<li><p>在 Vivado 工具栏中，选择“<strong>文件 (File) → 导出 (Export) → 导出硬件 (Export Hardware)</strong>”。这样会打开“导出硬件 (Export Hardware)”对话框。</p></li>
<li><p>选择“<strong>包含器件镜像 (Include device image)</strong>”，然后单击“<strong>下一步 (Next)</strong>”。</p></li>
<li><p>为导出的文件提供名称（或者使用提供的默认名称）并选择导出位置。单击“<strong>下一步 (Next)</strong>”。</p>
<p>如果硬件模块 (Hardware Module) 已导出，则会显示一条警告消息。如果显示覆盖消息，则请单击“<strong>是 (Yes)</strong>”以覆盖现有 XSA 文件。</p>
</li>
<li><p>单击“<strong>完成 (Finish)</strong>”。</p></li>
</ol>
</div>
</div>
<div class="section" id="hello-world">
<h3>运行裸机 Hello World 应用<a class="headerlink" href="#hello-world" title="Permalink to this headline">¶</a></h3>
<p>在此示例中，您将了解如何管理开发板设置、连接电缆、通过系统将电缆连接至开发板以及如何在赛灵思 Vitis 软件平台中通过 Arm Cortex-A72 上的片上存储器 (OCM) 和 Arm Cortex- R5F 上的紧密耦合存储器 (OCM) 来运行 Hello World 软件应用。</p>
<p>以下步骤演示了按要求连接电缆、通过系统将电缆连接至开发板以及启动 Vitis 软件平台的过程。</p>
<ol>
<li><p>将电源线缆连接到开发板。</p></li>
<li><p>在 Windows 主机与目标开发板上的 USB JTAG 连接器之间连接 Micro USB 线。此线缆用于 USB 到串口之间的传输。</p>
<blockquote>
<div><p><strong>注意</strong>：请确保 SW1 开关设置为 JTAG 启动模式，如下图所示。</p>
</div></blockquote>
<p><img alt="_images/image19.jpeg" src="../../_images/image19.jpeg" /></p>
</li>
<li><p>使用电源开关给 VMK180/VCK190 评估板上电，如下图所示。</p>
<p><img alt="_images/image20.png" src="../../_images/image20.png" /></p>
<blockquote>
<div><p><strong>注意</strong>：如果 Vitis 软件平台已运行，请跳转到步骤 6。</p>
</div></blockquote>
</li>
<li><p>选择“<strong>工具 (Tools) → 从 Vivado 启动 Vitis IDE (Launch Vitis IDE from Vivado)</strong>”以启动 Vitis 软件平台，并设置工作空间路径，在此例中，路径为 <code class="docutils literal notranslate"><span class="pre">C:\edt\edt_vck190</span></code>。</p>
<p>或者，您可打开含默认工作空间的 Vitis 软件平台，稍后再通过如下方式来将其切换至正确的工作空间：选择“<strong>文件 (File) → 切换工作空间 (Switch Workspace)</strong>”，然后选择工作空间。</p>
</li>
<li><p>打开对应系统上分配的 COM 端口的串行通信实用工具。Vitis 软件平台提供了 1 个串行终端实用工具，在本教程中均使用此工具，选择“<strong>窗口 (Window) → 显示视图 (Show View) → 赛灵思 (Xilinx) → Vitis 串口终端 (Vitis Serial Terminal)</strong>”即可将其打开。</p>
<p><img alt="_images/image21.jpeg" src="../../_images/image21.jpeg" /></p>
</li>
<li><p>单击 Vitis 终端上下文中的“<strong>连接到串口 (Connect to a serial port)</strong>”按钮 <img alt="_images/image22.png" src="../../_images/image22.png" /> 以设置串行配置并连接此端口。</p></li>
<li><p>在 Windows 器件管理器中验证此端口的详细信息。</p>
<p>UART-0 终端对应于含“Interface-0”的 Com-Port。对于此示例，默认已设置 UART-0 终端，因此对于 Com-Port，请选择含 interface-0 的端口。下图显示了 Versal™ ACAP 处理器系统的标准配置。</p>
<p><img alt="_images/image23.png" src="../../_images/image23.png" /></p>
</li>
</ol>
<blockquote>
<div><p><strong>注意</strong>：您可使用外部终端串口控制台，如 Tera Term 或 Putty。您可在“控制面板 (Control Panel)”的“器件管理器 (Device Manager)”菜单中找到相关 COM 端口信息。</p>
</div></blockquote>
<div class="section" id="arm-cortex-a72-ocm-hello-world">
<h4>为 Arm Cortex-A72 上的 OCM 创建 Hello World 应用<a class="headerlink" href="#arm-cortex-a72-ocm-hello-world" title="Permalink to this headline">¶</a></h4>
<p>以下步骤演示了为 Arm Cortex-A72 上的 OCM 创建 Hello World 应用的步骤。</p>
<ol>
<li><p>选择“<strong>文件 (File) → 新建 (New) → 应用工程 (Application Project)</strong>”。这样会打开“新建应用工程 (Creating a New Application Project)”Wizard。如果这是首次启动 Vitis IDE，那么您可在“欢迎使用 (Welcome)”屏幕上选择“创建应用工程 (Create Application Project)”，如下图所示。</p>
<p><img alt="_images/image24.png" src="../../_images/image24.png" /></p>
<blockquote>
<div><p><strong>注意</strong>：或者，您也可以选中“下次跳过欢迎屏幕 (Skip welcome page next time)”，这样即可每次启动时跳过欢迎页面。</p>
</div></blockquote>
<p><img alt="_images/image25.jpeg" src="../../_images/image25.jpeg" /></p>
</li>
<li><p>根据以下信息在 Wizard 屏幕中选择相应的选项。</p>
<p>表 3：<strong>系统属性设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th>Wizard 屏幕</th>
<th>系统属性</th>
<th>所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>平台 (Platform)</td>
<td>基于硬件创建新平台 (XSA) (Create a new platform from hardware (XSA))</td>
<td>单击“Browse”按钮以添加 XSA 文件。</td>
</tr>
<tr>
<td></td>
<td>平台名称 (Platform Name)</td>
<td>vck190_platform</td>
</tr>
<tr>
<td>应用工程详情 (Application Project Details)</td>
<td>应用工程名称 (Application project name)</td>
<td>helloworld_a72</td>
</tr>
<tr>
<td></td>
<td>选择系统工程 (Select a system project)</td>
<td>+新建</td>
</tr>
<tr>
<td></td>
<td>系统工程名称 (System project name)</td>
<td>helloworld _system</td>
</tr>
<tr>
<td></td>
<td>处理器 (Processor)</td>
<td>psv_cortexa72_0</td>
</tr>
<tr>
<td>域 (Domain)</td>
<td>选择域 (Select a domain)</td>
<td>+新建</td>
</tr>
<tr>
<td></td>
<td>名称</td>
<td>分配的默认名称</td>
</tr>
<tr>
<td></td>
<td>显示名称 (Display Name)</td>
<td>分配的默认名称</td>
</tr>
<tr>
<td></td>
<td>操作系统 (Operating System)</td>
<td>独立</td>
</tr>
<tr>
<td></td>
<td>处理器 (Processor)</td>
<td>psv_cortexa72_0</td>
</tr>
<tr>
<td></td>
<td>架构</td>
<td>64 位</td>
</tr>
<tr>
<td>模板 (Templates)</td>
<td>可用模板 (Available Templates)</td>
<td>Hello World</td>
</tr>
</tbody>
</table><p>执行完上述步骤后，Vitis 软件平台就会为平台工程 (vck190_platform) 和系统工程 (helloworld_system) 创建开发板支持封装，其中包含名为 helloworld_a72 的应用工程，位于“Explorer”视图下。</p>
<ol>
<li><p>右键单击 <strong>vck190_platform</strong> 并选择“<strong>Build Project</strong>”。或者，也可以单击 <img alt="_images/image26.png" src="../../_images/image26.png" />。</p>
<blockquote>
<div><p><strong>注意</strong>：如果无法看到 Project Explorer，请单击左侧面板上的复原图标 <img alt="_images/image27.png" src="../../_images/image27.png" /> 然后执行步骤 3。</p>
</div></blockquote>
</li>
</ol>
<div class="section" id="helloworld-a72">
<h5>修改 helloworld_a72 应用源代码<a class="headerlink" href="#helloworld-a72" title="Permalink to this headline">¶</a></h5>
<ol>
<li><p>双击 <strong>helloworld_a72</strong>，然后双击 <strong>src</strong> 并选择 <strong>helloworld.c</strong>。</p>
<p>这样即可打开 helloworld_a72 应用的 <code class="docutils literal notranslate"><span class="pre">helloworld.c</span></code> 源代码文件。</p>
</li>
<li><p>修改 print 命令中的实参：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello World from APU</span><span class="se">\n\r</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Successfully ran Hello World application from APU</span><span class="se">\n\r</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><img alt="_images/image28.png" src="../../_images/image28.png" /></p>
</li>
<li><p>单击 <img alt="_images/image29.png" src="../../_images/image29.png" /> 以构建该工程。</p></li>
</ol>
</div>
</div>
<div class="section" id="rpu">
<h4>在平台工程中添加新的 RPU 域<a class="headerlink" href="#rpu" title="Permalink to this headline">¶</a></h4>
<p>以下步骤演示了为 Arm Cortex-R5F 上的 TCM 创建裸机 Hello World 应用的过程。此应用需链接至域。创建应用工程前，请确保目标域软件环境可用。如果此环境不可用，请使用以下步骤将所需的域添加到您的平台中。</p>
<ol>
<li><p>双击“Vitis Explorer”视图中的 platform.spr 文件。（在此示例中，即 <strong>vck190_platform → platform.spr</strong>）</p></li>
<li><p>单击主视图中的 <img alt="_images/image30.png" src="../../_images/image30.png" /> 按钮。</p></li>
<li><p>根据以下信息在“域 (Domain)”Wizard 屏幕中选择相应的选项。</p>
<p>表 4：<strong>新建域设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th><strong>Wizard 屏幕</strong></th>
<th>字段</th>
<th>所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>域 (Domain)</td>
<td>名称</td>
<td>r5_domain</td>
</tr>
<tr>
<td></td>
<td>显示名称 (Display Name)</td>
<td>自动生成</td>
</tr>
<tr>
<td></td>
<td>操作系统 (OS)</td>
<td>独立</td>
</tr>
<tr>
<td></td>
<td>处理器 (Processor)</td>
<td>psv_cortexr5_0</td>
</tr>
<tr>
<td></td>
<td>受支持的运行时 (Supported Runtimes)</td>
<td>C/C++</td>
</tr>
<tr>
<td></td>
<td>架构</td>
<td>32 位</td>
</tr>
</tbody>
</table><ol>
<li><p>单击“<strong>确定 (OK)</strong>”。这样即可完成配置新生成的 r5_domain。</p>
<blockquote>
<div><p><strong>注意</strong>：此时您会注意到在“Explorer”视图中的平台旁出现了“过期 (Out-of-date)”修饰器。</p>
</div></blockquote>
</li>
<li><p>单击 <img alt="_images/image261.png" src="../../_images/image261.png" /> 图标以构建平台。“Explorer”视图会在平台工程内显示生成的镜像文件。</p></li>
</ol>
</div>
<div class="section" id="arm-cortex-r5f">
<h4>为 Arm Cortex-R5F 创建独立应用工程<a class="headerlink" href="#arm-cortex-r5f" title="Permalink to this headline">¶</a></h4>
<p>以下步骤演示了为 Arm Cortex-R5F 创建 Hello World 应用的步骤。</p>
<ol>
<li><p>选择“<strong>文件 (File) → 新建 (New) → 应用工程 (Application Project)</strong>”。这样会打开“新建应用工程 (Creating a New Application Project)”Wizard。如果这是首次启动 Vitis IDE，那么您可在“Welcome”屏幕上选择“Create Application Project”。</p>
<blockquote>
<div><p><strong>注意</strong>：或者，您也可以选中“下次跳过欢迎屏幕 (Skip welcome page next time)”，这样即可每次启动时跳过欢迎页面。</p>
</div></blockquote>
</li>
<li><p>根据以下信息在 Wizard 屏幕中选择相应的选项。</p>
<p>表 5：<strong>系统属性设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th>Wizard 屏幕</th>
<th>系统属性</th>
<th>所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>平台 (Platform)</td>
<td>从存储库中选择平台</td>
<td>选择 <strong>vck190_platform</strong></td>
</tr>
<tr>
<td>应用工程详情 (Application Project Details)</td>
<td>应用工程名称 (Application project name)</td>
<td>helloworld_r5</td>
</tr>
<tr>
<td></td>
<td>选择系统工程 (Select a system project)</td>
<td>helloworld_system</td>
</tr>
<tr>
<td></td>
<td>系统工程名称 (System project name)</td>
<td>helloworld _system</td>
</tr>
<tr>
<td></td>
<td>目标处理器 (Target processor)</td>
<td>psv_cortexr5_0</td>
</tr>
<tr>
<td>域 (Domain)</td>
<td>选择域 (Select a domain)</td>
<td>r5_domain</td>
</tr>
<tr>
<td></td>
<td>名称</td>
<td>r5_domain</td>
</tr>
<tr>
<td></td>
<td>显示名称 (Display Name)</td>
<td>r5_domain</td>
</tr>
<tr>
<td></td>
<td>操作系统 (Operating System)</td>
<td>独立</td>
</tr>
<tr>
<td></td>
<td>处理器 (Processor)</td>
<td>psv_cortexr5_0</td>
</tr>
<tr>
<td>模板 (Templates)</td>
<td>可用模板 (Available Templates)</td>
<td>Hello World</td>
</tr>
</tbody>
</table><blockquote>
<div><p><strong>注意</strong>：这样即可在现有系统工程 helloworld_system 内生成独立应用 helloworld_r5。</p>
</div></blockquote>
<ol class="simple">
<li><p>右键单击 <strong>vck190_platform</strong> 并选择“<strong>Build Project</strong>”。或者，您也可以单击 <img alt="_images/image29.png" src="../../_images/image29.png" /> 以构建工程。</p></li>
</ol>
<div class="section" id="helloworld-r5">
<h5>修改 helloworld_r5 应用源代码<a class="headerlink" href="#helloworld-r5" title="Permalink to this headline">¶</a></h5>
<ol>
<li><p>展开 <strong>helloworld_r5</strong> 并双击 <strong>src</strong>，然后选择 <strong>helloworld.c</strong> 以打开 helloworld_r5 应用的 <code class="docutils literal notranslate"><span class="pre">helloworld.c</span></code> 源代码文件。</p></li>
<li><p>修改 print 命令中的实参：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello World from RPU</span><span class="se">\n\r</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Successfully ran Hello World application from RPU</span><span class="se">\n\r</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p><img alt="_images/image31.png" src="../../_images/image31.png" /></p>
</li>
<li><p>单击 <img alt="_images/image29.png" src="../../_images/image29.png" /> 以构建该工程。</p></li>
</ol>
</div>
<div class="section" id="id7">
<h5>为应用工程 helloworld_r5 修改应用连接器脚本<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h5>
<p>以下步骤演示了为应用工程 helloworld_r5 修改应用连接器脚本 (Application Linker Script) 的过程。</p>
<blockquote>
<div><p><strong>注意</strong>：Vitis 软件平台提供了连接器脚本生成器用于简化为 GCC 创建连接器脚本的任务。连接器脚本生成器 GUI 会检验目标硬件平台并确认可用的存储器部分。您只需将 ELF 文件中的不同代码和数据部分分配至不同存储器区域即可。</p>
</div></blockquote>
<ol>
<li><p>在“Vitis Explorer”视图中选择相应的工程 (helloworld_r5)。</p>
<blockquote>
<div><p><strong>注意</strong>：如果平台上存在 DDR 内存，则连接器将使用 DDR 内存，否则将默认使用片上存储器 (OCM)。</p>
</div></blockquote>
</li>
<li><p>在 <code class="docutils literal notranslate"><span class="pre">src</span></code> 目录中，删除默认 <code class="docutils literal notranslate"><span class="pre">lscript.ld</span></code> 文件。</p></li>
<li><p>右键单击 <strong>helloworld_r5</strong> 并单击“<strong>生成连接器脚本 (Generate Linker Script)</strong>”。或者，您也可以选择“<strong>Xilinx → Generate Linker Script</strong>”。</p>
<p><img alt="_images/image32.png" src="../../_images/image32.png" /></p>
<blockquote>
<div><p><strong>注意</strong>：在“Generate Linker Script”对话框中，左侧为只读，但“按如下方式修改工程构建设置 (Modify project build settings as follows)”字段中的“输出脚本名称 (Output Script name)”和工程构建设置除外。在右侧，有 2 个用于选择存储器分配方式的选项：“基本信息 (Basic)”选项卡或“高级 (Advanced)”选项卡。这 2 个选项执行的任务是相同的；但“Basic”选项卡粒度较低，将所有类型的数据都作为“数据”来处理，并将所有类型的指令都作为“代码”来处理。这通常足以完成大部分任务。使用“Advanced”选项卡可将软件块精准分配到各种类型的存储器中。</p>
</div></blockquote>
</li>
<li><p>针对“Basic”选项卡下的 3 个部分，在其下拉菜单中选择 <strong>psv_r5_0_atcm_MEM_0</strong>，然后单击“<strong>生成 (Generate)</strong>”。</p>
<p><img alt="_images/image33.png" src="../../_images/image33.png" /></p>
<blockquote>
<div><p><strong>注意</strong>：这样将在应用工程的 src 文件夹中生成新的连接器脚本 (<code class="docutils literal notranslate"><span class="pre">lscript.ld</span></code>)。</p>
</div></blockquote>
</li>
<li><p>右键单击 <strong>helloworld _system</strong>，然后选择“<strong>构建工程 (Build Project)</strong>”，或者单击 <img alt="_images/image261.png" src="../../_images/image261.png" />。这样即可在 helloworld_r5 工程的 Debug 文件夹内生成工程的 elf 文件。</p></li>
</ol>
</div>
</div>
</div>
<div class="section" id="vitis-jtag">
<h3>在 Vitis 软件平台中使用系统调试器以 JTAG 模式运行应用<a class="headerlink" href="#vitis-jtag" title="Permalink to this headline">¶</a></h3>
<p>要运行应用，则必须创建“运行配置 (Run configuration)”以采集用于执行应用的设置。您可为整个系统工程创建一种运行配置，或者也可以为各独立应用创建不同运行配置。</p>
<div class="section" id="id8">
<h4>为系统工程创建运行配置<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ol>
<li><p>右键单击系统工程 <strong>helloworld_system</strong> 并选择“<strong>运行方式 (Run As) → 运行配置 (Run Configurations)</strong>”。这样会打开“Run configuration”对话框。</p></li>
<li><p>双击“<strong>系统工程调试 (System Project Debug)</strong>”以创建“Run Configuration”。</p>
<p>Vitis 软件平台会创建新的运行配置，其名为：SystemDebugger_helloworld_system。对于其余选项，请参阅下表。</p>
<p>表 6：<strong>创建、管理和运行配置设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th>Wizard 选项卡</th>
<th>系统属性</th>
<th>所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>主视图 (Main)</td>
<td>工程 (Project)</td>
<td>helloworld_system</td>
</tr>
<tr>
<td></td>
<td>目标 (Target) → 硬件服务器 (Hardware Server)</td>
<td>随附到运行中的目标（本地）。如果尚未添加目标，请使用“新建 (New)”按钮添加目标。</td>
</tr>
</tbody>
</table><ol>
<li><p>单击“<strong>运行 (Run)</strong>”。</p>
<blockquote>
<div><p><strong>注意</strong>：如果存在现有启动配置，则会显示 1 个对话框，询问您是否要终止此流程。单击“<strong>Yes</strong>”。这样会在终端上显示以下日志。</p>
</div></blockquote>
<p><img alt="_images/image34.png" src="../../_images/image34.png" /></p>
</li>
</ol>
</div>
<div class="section" id="id9">
<h4>为系统工程内的单一应用创建运行配置<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>您可通过 2 种方式来为系统工程内的单一应用创建运行配置：</p>
<div class="section" id="i">
<h5>方法 I<a class="headerlink" href="#i" title="Permalink to this headline">¶</a></h5>
<ol>
<li><p>右键单击系统工程 <strong>helloworld_system</strong> 并选择“<strong>运行方式 (Run As) → 运行配置 (Run Configurations)</strong>”。这样会打开“Run configuration”对话框。</p></li>
<li><p>双击“<strong>系统工程调试 (System Project Debug)</strong>”以创建“Run Configuration”。</p>
<p>Vitis 软件平台会创建新的运行配置，其名为：SystemDebugger_helloworld_system_1。将其重命名为 SystemDebugger_helloworld_system_A72。对于其余选项，请参阅下表。</p>
<p>表 7：<strong>创建、管理和运行配置设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th>Wizard 选项卡</th>
<th>系统属性</th>
<th>所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>主视图 (Main)</td>
<td>工程 (Project)</td>
<td>helloworld_system</td>
</tr>
<tr>
<td></td>
<td>仅调试所选应用 (Debug only selected applications)</td>
<td>选中此框</td>
</tr>
<tr>
<td></td>
<td>所选应用 (Selected Applications)</td>
<td>单击“<strong>编辑 (Edit)</strong>”按钮并勾选 helloworld_a72</td>
</tr>
<tr>
<td></td>
<td>目标 (Target) → 硬件服务器 (Hardware Server)</td>
<td>随附到运行中的目标（本地）。如果尚未添加目标，请使用“新建 (New)”按钮添加目标。</td>
</tr>
</tbody>
</table><ol>
<li><p>单击“<strong>应用 (Apply)</strong>”。</p></li>
<li><p>单击“<strong>运行 (Run)</strong>”。</p>
<blockquote>
<div><p><strong>注意</strong>：如果存在现有运行配置，则会显示 1 个对话框，询问您是否要终止此流程。单击“<strong>Yes</strong>”。这样会在终端上显示以下日志。</p>
</div></blockquote>
<p><img alt="_images/image35.png" src="../../_images/image35.png" /></p>
</li>
</ol>
<blockquote>
<div><p><strong>注意</strong>：APU 和 RPU 应用都会打印在相同控制台上，因为这两种应用使用的都是 UART0。应用软件会针对 APU 和 RPU 向 PS 部分的 UART0 外设发送 hello world 字符串。这些 hello world 字符串将从 UART0 逐字节发送到主机上运行的串行终端应用，在主机上会将其显示为字符串。</p>
</div></blockquote>
</div>
<div class="section" id="ii">
<h5>方法 II<a class="headerlink" href="#ii" title="Permalink to this headline">¶</a></h5>
<ol>
<li><p>右键单击应用工程 hello_world_r5 并选择“<strong>Run As → Run Configurations</strong>”。这样会打开“Run configuration”对话框。</p></li>
<li><p>双击“<strong>单工程调试 (Single Project Debug)</strong>”以创建运行配置。</p>
<p>Vitis 软件平台会创建新的运行配置，其名为：Debugger_helloworld_r5-Default。对于其余选项，请参阅下表。</p>
<p>表 8：<strong>创建、管理和运行配置设置</strong></p>
</li>
</ol>
<table border="1" class="docutils">
<thead>
<tr>
<th>Wizard 选项卡</th>
<th>系统属性</th>
<th>所用设置或命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>主视图 (Main)</td>
<td>调试类型 (Debug Type)</td>
<td>独立应用调试 (Standalone Application Debug)</td>
</tr>
<tr>
<td></td>
<td>连接 (Connection)</td>
<td>连接至开发板。如果尚未连接，请在此处选择连接。</td>
</tr>
<tr>
<td></td>
<td>工程 (Project)</td>
<td>helloworld_r5</td>
</tr>
<tr>
<td></td>
<td>配置 (Configuration)</td>
<td>调试</td>
</tr>
</tbody>
</table><ol class="simple">
<li><p>单击“<strong>应用 (Apply)</strong>”。</p></li>
<li><p>单击“<strong>运行 (Run)</strong>”。</p></li>
</ol>
<blockquote>
<div><p><strong>注意</strong>：如果存在现有运行配置，则会显示 1 个对话框，询问您是否要终止此流程。单击“<strong>Yes</strong>”。这样会在终端上显示以下日志。</p>
</div></blockquote>
<p><img alt="_images/image36.png" src="../../_images/image36.png" /></p>
</div>
</div>
</div>
</div>
<div class="section" id="noc-ddr-ip">
<h2>NoC（和 DDR）IP 核配置<a class="headerlink" href="#noc-ddr-ip" title="Permalink to this headline">¶</a></h2>
<p>本章节描述了 NoC（和 DDR）配置以及搭配本章前文中配置的 CIPS 使用所需的相关连接的信息。Versal™ ACAP CIPS IP 核允许您配置 2 个基于多核 Arm® Cortex™-A72 的超标量 APU、2 个 Arm Cortex™-R5F RPU、1 个平台管理控制器 (PMC) 和 1 个 CCIX PCIe® 模块 (CPM)。NoC IP 核支持配置 NoC 并启用 DDR 内存控制器。</p>
<div class="section" id="noc-ip">
<h3>在现有工程内配置 NoC IP 核<a class="headerlink" href="#noc-ip" title="Permalink to this headline">¶</a></h3>
<p>对于此示例，请启动 Vivado® Design Suite 和工程，并按<a class="reference external" href="./2-cips-noc-ip-config.md#%E4%BD%BF%E7%94%A8-versal-acap-%E5%88%9B%E5%BB%BA%E5%85%A8%E6%96%B0%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B7%A5%E7%A8%8B">工程示例：使用 Versal ACAP 创建全新的嵌入式工程</a>中所示完成该工程的基本 CIPS 配置。</p>
<div class="section" id="id10">
<h4>配置设计<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<p>要配置设计，请执行以下步骤：</p>
<ol>
<li><p>打开<a class="reference external" href="./2-cips-noc-ip-config.md#%E4%BD%BF%E7%94%A8-versal-acap-%E5%88%9B%E5%BB%BA%E5%85%A8%E6%96%B0%E7%9A%84%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%B7%A5%E7%A8%8B">工程示例：使用 Versal ACAP 创建全新的嵌入式工程</a>中创建的设计 <code class="docutils literal notranslate"><span class="pre">edt_versal.xpr</span></code>。</p></li>
<li><p>然后打开块设计 <code class="docutils literal notranslate"><span class="pre">edt_versal.bd</span></code>。</p></li>
<li><p>在 Vivado Design Suite 的 Tcl 控制台中输入以下命令：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apply_bd_automation</span> <span class="o">-</span><span class="n">rule</span> <span class="n">xilinx</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="n">bd_rule</span><span class="p">:</span><span class="n">versal_cips</span> <span class="o">-</span><span class="n">config</span> <span class="p">{</span> <span class="n">apply_board_preset</span> <span class="p">{</span><span class="mi">0</span><span class="p">}</span> <span class="n">configure_noc</span> <span class="p">{</span><span class="n">Add</span> <span class="n">new</span> <span class="n">AXI</span> <span class="n">NoC</span><span class="p">}</span> <span class="n">num_ddr</span> <span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="n">pcie0_lane_width</span> <span class="p">{</span><span class="kc">None</span><span class="p">}</span> <span class="n">pcie0_mode</span> <span class="p">{</span><span class="kc">None</span><span class="p">}</span> <span class="n">pcie0_port_type</span> <span class="p">{</span><span class="n">Endpoint</span> <span class="n">Device</span><span class="p">}</span> <span class="n">pcie1_lane_width</span> <span class="p">{</span><span class="kc">None</span><span class="p">}</span> <span class="n">pcie1_mode</span> <span class="p">{</span><span class="kc">None</span><span class="p">}</span> <span class="n">pcie1_port_type</span> <span class="p">{</span><span class="n">Endpoint</span> <span class="n">Device</span><span class="p">}</span> <span class="n">pl_clocks</span> <span class="p">{</span><span class="kc">None</span><span class="p">}</span> <span class="n">pl_resets</span> <span class="p">{</span><span class="kc">None</span><span class="p">}}</span>  <span class="p">[</span><span class="n">get_bd_cells</span> <span class="n">versal_cips_0</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>按 <strong>Enter</strong> 键。</p></li>
<li><p>打开 AXI NoC IP。</p></li>
<li><p>在“开发板 (Boards)”选项卡中，按下图所示配置设置，然后单击“<strong>OK</strong>”。</p>
<p><img alt="axi-noc-ip-board" src="../../_images/axi-noc-ip-board.png" /></p>
</li>
<li><p>单击设计中的 <strong>sys_clk_0_0</strong> 管脚。</p></li>
<li><p>在“外部接口属性 (External Interface Properties)”窗口中，选择“<strong>属性 (Properties) → 配置 (CONFIG) → FREQ_HZ</strong>”，将频率更改为 200 MHz。</p>
<p><img alt="external-interface" src="../../_images/external-interface.png" /></p>
<p>这样即可添加 AXI NoC IP 以供 DDR 访问。</p>
<p><img alt="_images/image38.jpeg" src="../../_images/image38.jpeg" /></p>
</li>
</ol>
</div>
<div class="section" id="id11">
<h4>验证设计并生成输出<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h4>
<p>要验证设计并生成输出，请执行以下步骤：</p>
<ol>
<li><p>右键单击“Diagram”窗口的空白区域，并选择“<strong>Validate Design</strong>”。或者，您可按 <strong>F6</strong> 键。这样会打开含以下消息的对话框：</p>
<p><img alt="validation-message" src="../../_images/validation_message1.PNG" /></p>
</li>
<li><p>单击“<strong>OK</strong>”以关闭此消息。</p></li>
<li><p>在“块设计源代码 (Block Design Sources)”窗口中的“Design Sources”下，展开 <strong>edt_versal_wrapper</strong>。</p></li>
<li><p>右键单击标题为 edt_versal_i: edt_versal 的顶层模块框图 (<code class="docutils literal notranslate"><span class="pre">edt_versal.bd</span></code>) 并选择“<strong>Generate Output Products</strong>”。</p>
<p>这样会打开“Generate Output Products”对话框，如下图所示。</p>
<p><img alt="_images/image151.png" src="../../_images/image151.png" /></p>
<blockquote>
<div><p><strong>注意</strong>：如果在 Windows 上运行 Vivado Design Suite，则“Run Settings”下的选项可能与此处所示选项不同。在此情况下，请使用默认设置继续执行操作。</p>
</div></blockquote>
</li>
<li><p>单击“<strong>生成 (Generate)</strong>”。</p>
<p>此步骤将为所选源代码构建所有必需的输出文件。例如，您无需手动为 IP 处理器系统创建约束。当您选中“<strong>Generate Output Products</strong>”时，Vivado 工具会自动为处理器子系统生成 XDC 文件。</p>
</li>
<li><p>当“Generate Output Products”进程完成后，请单击“<strong>OK</strong>”。单击底部窗口的“<strong>设计运行 (Design Runs)</strong>”选项卡，以查看“OOC Module Runs/Synthesis/Implementation runs”。</p></li>
<li><p>在“Sources”窗口中，单击“<strong>IP Sources</strong>”视图。您可在此处查看刚生成的输出文件，如下图所示。</p>
<p><img alt="_images/image39.png" src="../../_images/image39.png" /></p>
</li>
</ol>
</div>
<div class="section" id="id12">
<h4>综合、实现和生成器件镜像<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h4>
<p>请遵循以下步骤为设计生成器件镜像。</p>
<ol>
<li><p>转至“<strong>Flow Navigator → 编程与调试 (Program and Debug)</strong>”，并单击“<strong>生成器件镜像 (Generate Device Image)</strong>”。</p></li>
<li><p>这样会显示“无实现结果可用 (No Implementation Results Available)”菜单。单击“<strong>Yes</strong>”。</p></li>
<li><p>这样会显示“启动运行 (Launch Run)”菜单。单击“<strong>确定 (OK)</strong>”。</p>
<p>当“Device Image Generation”完成后，会显示“器件镜像生成已完成 (Device Image Generation Completed)”对话框。</p>
</li>
<li><p>单击“<strong>取消 (Cancel)</strong>”关闭此窗口。</p></li>
<li><p>生成器件镜像后，请导出硬件，并单击“<strong>OK</strong>”。</p></li>
</ol>
<blockquote>
<div><p><strong>注意</strong>：以下步骤为可选，您可跳过这些步骤并转至<a class="reference external" href="#%E5%AF%BC%E5%87%BA%E7%A1%AC%E4%BB%B6">导出硬件</a>部分。这些步骤提供了生成器件镜像的详细流程，包括先运行综合与实现，然后再生成器件镜像。如需了解生成器件镜像的流程，请遵循以下提供的步骤进行操作。</p>
</div></blockquote>
<ol>
<li><p>转至“<strong>Flow Navigator → Synthesis</strong>”，然后单击“<strong>Run Synthesis</strong>”。</p>
<p><img alt="_images/image17.png" src="../../_images/image17.png" /></p>
</li>
<li><p>如果 Vivado® 提示您在启动综合前保存工程，请单击“<strong>保存 (Save)</strong>”。</p>
<p>运行综合时，在右上角窗口中会显示其状态栏。在整个设计进程中，此状态栏会因各种原因而呈现假脱机状态。此状态栏表示进程正在后台运行。当综合完成后，会打开“综合已完成 (Synthesis Completed)”对话框。</p>
</li>
<li><p>选择“<strong>运行实现 (Run Implementation)</strong>”，然后单击“<strong>OK</strong>”。</p>
<p>当实现完成后，会打开“实现已完成 (Implementation Completed)”对话框。</p>
</li>
<li><p>选择“<strong>Generate Device Image</strong>”，然后单击“<strong>OK</strong>”。</p>
<p>当“Device Image Generation”完成后，会显示“器件镜像生成已完成 (Device Image Generation Completed)”对话框。</p>
</li>
<li><p>单击“<strong>取消 (Cancel)</strong>”关闭此窗口。</p>
<p>生成器件镜像后，请导出硬件。</p>
</li>
</ol>
</div>
<div class="section" id="id13">
<h4>导出硬件<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h4>
<ol>
<li><p>在 Vivado 主菜单中，选择“<strong>File→ Export → Export Hardware</strong>”。这样会打开“导出硬件 (Export Hardware)”对话框。</p></li>
<li><p>选择“<strong>包含比特流 (Include bitstream)</strong>”，然后单击“<strong>Next</strong>”。</p></li>
<li><p>为导出的文件提供名称（或者使用提供的默认名称）并选择导出位置。单击“<strong>下一步 (Next)</strong>”。</p>
<p>如果硬件模块已导出，则会显示一条警告消息。如果显示覆盖消息，则请单击“<strong>是 (Yes)</strong>”以覆盖现有 XSA 文件。</p>
</li>
<li><p>单击“<strong>完成 (Finish)</strong>”。</p></li>
</ol>
</div>
</div>
<div class="section" id="ddr-hello-world">
<h3>在 DDR 内存上运行裸机 Hello World 应用<a class="headerlink" href="#ddr-hello-world" title="Permalink to this headline">¶</a></h3>
<p>在此示例中，您将了解如何管理开发板设置、连接电缆、通过 PC 将电缆连接至开发板以及如何在赛灵思 Vitis 软件平台中通过 Arm Cortex-A72 和 Arm Cortex- R5F 上的 DDR 内存来运行 Hello World 软件应用。</p>
<p>您将创建与<a class="reference external" href="#%E8%BF%90%E8%A1%8C%E8%A3%B8%E6%9C%BA-hello-world-%E5%BA%94%E7%94%A8">运行裸机 Hello World 应用</a>中相似的新 Vitis 工程，区别在于此次将使用默认连接器脚本，该脚本将引用 DDR 内存。</p>
<ol>
<li><p>管理开发板设置、连接电缆、通过系统将电缆连接至开发板并按<a class="reference external" href="#%E8%BF%90%E8%A1%8C%E8%A3%B8%E6%9C%BA-hello-world-%E5%BA%94%E7%94%A8">运行裸机 Hello World 应用</a>中的步骤 1 至 7 所述启动 Vitis 软件平台。</p>
<blockquote>
<div><p><strong>注意</strong>：需为此示例创建新的 Vitis 工作空间。请勿使用<a class="reference external" href="#%E8%BF%90%E8%A1%8C%E8%A3%B8%E6%9C%BA-hello-world-%E5%BA%94%E7%94%A8">运行裸机 Hello World 应用</a>中创建的工作空间。</p>
</div></blockquote>
</li>
<li><p>为 Arm Cortex-A72 上运行的应用创建裸机 Hello World 系统工程，并按<a class="reference external" href="#%E4%B8%BA-arm-cortex-a72-%E4%B8%8A%E7%9A%84-ocm-%E5%88%9B%E5%BB%BA-hello-world-%E5%BA%94%E7%94%A8">为 Arm Cortex-A72 上的 OCM 创建 Hello World 应用</a>的步骤 1 到 3 和<a class="reference external" href="#%E4%BF%AE%E6%94%B9-helloworld_a72-%E5%BA%94%E7%94%A8%E6%BA%90%E4%BB%A3%E7%A0%81">修改 helloworld_a72 应用源代码</a>中的步骤 1 到 3 中所述，修改此应用的源代码。</p></li>
<li><p>右键单击 <strong>helloworld _system</strong> 并选择“<strong>Build Project</strong>”，或者单击 <img alt="_images/image29.png" src="../../_images/image29.png" /> 以在应用工程的 Debug 文件夹中生成项目 elf 文件。</p></li>
<li><p>按<a class="reference external" href="#%E5%9C%A8%E5%B9%B3%E5%8F%B0%E5%B7%A5%E7%A8%8B%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84-rpu-%E5%9F%9F">在平台工程中添加新的 RPU 域</a>的步骤 2 中所述，为平台创建另一个 RPU 域。</p></li>
<li><p>在现有系统工程内创建在 Arm Cortex-R5F 上运行的裸机 Hello World 应用（在步骤 2 中构建），并按<a class="reference external" href="#%E4%B8%BA-arm-cortex-r5f-%E5%88%9B%E5%BB%BA%E7%8B%AC%E7%AB%8B%E5%BA%94%E7%94%A8%E5%B7%A5%E7%A8%8B">为 Arm Cortex-R5F 创建独立应用工程</a>的步骤 1 到 3 和<a class="reference external" href="#%E4%BF%AE%E6%94%B9-helloworld_r5-%E5%BA%94%E7%94%A8%E6%BA%90%E4%BB%A3%E7%A0%81">修改 helloworld_r5 应用源代码</a>的步骤 1 到 3 中所述，修改此应用的源代码。</p></li>
<li><p>右键单击 <strong>helloworld _system</strong> 并选择“Build Project”，或者单击 <img alt="_images/image29.png" src="../../_images/image29.png" /> 以在应用工程的 Debug 文件夹中生成项目 elf 文件。</p></li>
</ol>
<p>请参阅<a class="reference external" href="#%E5%9C%A8-vitis-%E8%BD%AF%E4%BB%B6%E5%B9%B3%E5%8F%B0%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%B0%83%E8%AF%95%E5%99%A8%E4%BB%A5-jtag-%E6%A8%A1%E5%BC%8F%E8%BF%90%E8%A1%8C%E5%BA%94%E7%94%A8">在 Vitis 软件平台中使用系统调试器以 JTAG 模式运行应用</a>以了解如何在 Vitis 软件平台中使用系统调试器以 JTAG 模式运行以上构建的应用，并参阅<a class="reference external" href="./4-boot-and-config.md#%E4%B8%BA%E7%8B%AC%E7%AB%8B%E5%BA%94%E7%94%A8%E7%94%9F%E6%88%90%E5%90%AF%E5%8A%A8%E9%95%9C%E5%83%8F">为独立应用生成启动镜像</a>以了解如何为独立应用生成启动镜像。</p>
<p>© 2020 年赛灵思公司版权所有。</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on January 29, 2021.
      </span>

    </p>
  </div>	  
      </div>
    </section>


  




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>     	    
	    
	    
  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															  <ul class="list-inline sub-menu">
																<li>
																	<a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>