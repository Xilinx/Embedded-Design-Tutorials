


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/pro.min.css" media="all" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Building and Debugging Linux Applications" href="6-build-linux-sw-for-ps.html" />
    <link rel="prev" title="Building Standalone Software for PS Subsystems" href="4-build-sw-for-ps-subsystems.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../../../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> エンベデッド デザイン チュートリアル
          

          
          </a>

          
            
            
              <div class="version">
                2021.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">简体中文</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-cn/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">日本語</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">入門チュートリアル</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="ZynqMPSoC-EDT.html">Zynq UltraScale+ MPSoC エンベデッド デザイン チュートリアル</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-getting-started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-system-configuration.html">Zynq UltraScale+ MPSoC System Configuration with Vivado</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-build-sw-for-ps-subsystems.html">Building Software for PS Subsystems</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Debugging Standalone Applications with the Vitis Debugger</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xilinx-system-debugger">Xilinx System Debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-6-debugging-software-using-the-vitis-debugger">Example 6: Debugging Software Using the Vitis Debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-7-debugging-using-xsct">Example 7: Debugging Using XSCT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-target">Setting Up the Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loading-the-application-using-xsct">Loading the Application Using XSCT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-terminal-configuration">Serial Terminal Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-and-debugging-the-application-using-xsct">Running and Debugging the Application Using XSCT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="6-build-linux-sw-for-ps.html">Building and Debugging Linux Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="7-design1-using-gpio-timer-interrupts.html">System Design Example: Using GPIO, Timer and Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="8-boot-and-configuration.html">Boot and Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="9-secure-boot.html">Secure Boot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/Zynq7000-EDT.html">Zynq-7000 エンベデッド デザイン チュートリアル</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">機能チュートリアル</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/debuggable-fsbl/debuggable-fsbl.html">First Stage Boot Loader (FSBL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/sw-profiling/sw-profiling.html">システム デバッガーを使用したアプリケーションのプロファイル</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">デバッグ ガイド</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vitis-Embedded-Software-Debugging/Debugging.html">Vitis エンベデッド ソフトウェア デバッグ ガイド (UG1515) 2021.1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ユーザー ガイド</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../User_Guides/SPA-UG/SPA-UG.html">システム パフォーマンス解析</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../User_Guides/Performance_Benchmark/Dhrystone/README.html">Versal Dhrystone ベンチマーク</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../_sources/docs/Introduction/ZynqMPSoC-EDT/5-debugging-with-vitis-debugger.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">エンベデッド デザイン チュートリアル</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="ZynqMPSoC-EDT.html">Zynq UltraScale+ MPSoC Embedded Design Tutorial</a> &raquo;</li>
        
      <li>Debugging Standalone Applications with the Vitis Debugger</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/Introduction/ZynqMPSoC-EDT/5-debugging-with-vitis-debugger.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="debugging-standalone-applications-with-the-vitis-debugger">
<h1>Debugging Standalone Applications with the Vitis Debugger<a class="headerlink" href="#debugging-standalone-applications-with-the-vitis-debugger" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes debug possibilities with the design flow you
have already been working with. The first option is debugging with
software using the Vitis™ debugger.</p>
<p>The Vitis debugger provides the following debug capabilities:</p>
<ul class="simple">
<li><p>Debugging of programs on Arm® Cortex™-A53, Arm®
Cortex™-R5F, and MicroBlaze™ processor architectures
(heterogeneous multi-processor hardware system debugging)</p></li>
<li><p>Debugging of programs on hardware boards</p></li>
<li><p>Debugging on remote hardware systems</p></li>
<li><p>A feature-rich IDE to debug programs</p></li>
<li><p>A Tool Command Language (Tcl) interface for running test
scripts and automation</p></li>
</ul>
<p>The Vitis debugger enables you to see what is happening to a program
while it executes. You can set breakpoints or watchpoints to stop the
processor, step through program execution, view the program variables
and stack, and view the contents of the memory in the system.</p>
<p>The Vitis debugger supports debugging through Xilinx® System Debugger.</p>
<div class="section" id="xilinx-system-debugger">
<h2>Xilinx System Debugger<a class="headerlink" href="#xilinx-system-debugger" title="Permalink to this headline">¶</a></h2>
<p>The Xilinx System Debugger uses the Xilinx hardware server as the
underlying debug engine. The Vitis IDE translates each user interface
action into a sequence of Target Communication Framework (TCF)
commands. It then processes the output from System Debugger to display
the current state of the program being debugged. It communicates to
the processor on the hardware using Xilinx hardware server.</p>
<p>The debug workflow is described in the following figure.</p>
<p><img alt="../../../_images/system-debugger-flow.png" src="../../../_images/system-debugger-flow.png" /></p>
<p>The workflow is made up of the following components:</p>
<ul class="simple">
<li><p><strong>Executable ELF File:</strong> To debug your application, you must use an
executable and linkable format (ELF) file compiled for debugging.
The debug ELF file contains additional debug information for the
debugger to make direct associations between the source code and
the binaries generated from that original source. To manage the
build configurations, right-click the software application and
select <strong>Build Configurations → Manage</strong>.</p></li>
<li><p><strong>Debug Configuration:</strong> To launch the debug session, you must
create a debug configuration in the Vitis debugger. This
configuration captures the options required to start a debug session,
including the executable name, processor target to debug, and
other information. To create a debug configuration, right-click
your software application and select <strong>Debug As → Debug
Configurations</strong>.</p></li>
<li><p><strong>Vitis Debug Perspective:</strong> Using the Debug perspective, you can
manage the debugging or running of a program in the workbench. You
can control the execution of your program by setting breakpoints,
suspending launched programs, stepping through your code, and
examining the contents of variables. To view the Debug
Perspective, select <strong>Window → Open Perspective → Debug</strong>.</p></li>
</ul>
<p>You can repeat the cycle of modifying the code, building the
executable, and debugging the program in the Vitis debugger.</p>
<blockquote>
<div><p><strong>Note:</strong> If you edit the source after compiling, the line numbering
will be out of step because the debug information is tied directly to
the source. Similarly, debugging optimized binaries can also cause
unexpected jumps in the execution trace.</p>
</div></blockquote>
</div>
<div class="section" id="example-6-debugging-software-using-the-vitis-debugger">
<h2>Example 6: Debugging Software Using the Vitis Debugger<a class="headerlink" href="#example-6-debugging-software-using-the-vitis-debugger" title="Permalink to this headline">¶</a></h2>
<p>In this example, you will walk through debugging a “Hello World”
application.</p>
<blockquote>
<div><p><strong>Note:</strong> If you did not create a “Hello World” application on the APU or
RPU, follow the steps in <a class="reference external" href="4-build-sw-for-ps-subsystems.md#creating-a-custom-bare-metal-application-for-an-arm-cortex-a53-based-apu">Create Custom Bare-Metal Application for Arm Cortex-A53 based APU</a>
to create a new “Hello World” application.</p>
</div></blockquote>
<p>After you create the “Hello World” application, work through the
following example to debug the software using the Vitis debugger.</p>
<ol>
<li><p>Connect the JTAG cable, set the boot mode to JTAG, and power on the board. Refer to the steps in <a class="reference external" href="4-build-sw-for-ps-subsystems.md#example-3-running-the-hello-world-application-from-arm-cortex-a53">Example 3: Running the “Hello World” Application from Arm Cortex-A53</a>.</p></li>
<li><p>In the C/C++ Perspective, right-click the <strong>hello_a53 Project</strong> and select <strong>Debug As→ Launch on Hardware → Single Application Debug</strong>.</p>
<blockquote>
<div><p><strong>Note:</strong> The above step launches the Application Debugger in the
Debug perspective based on the project settings. Alternatively, you
can create a debug configuration which looks like the following
figure.</p>
</div></blockquote>
<p><img alt="Debug Configurations" src="../../../_images/vitis_single_app_debug_configurations.png" /></p>
<blockquote>
<div><p><strong>Note:</strong> The contents of Debug Configurations are identical to those in Run Configurations. The difference between run and debug is that debug stops at the <code class="docutils literal notranslate"><span class="pre">main()</span></code> function by default.</p>
</div></blockquote>
<p>If the Confirm Perspective Switch popup window appears, click <strong>Yes</strong>.
The Debug perspective opens.</p>
<blockquote>
<div><p><strong>Note:</strong> If the Debug perspective window does not open automatically, select <strong>Window→ Perspective → Open Perspective → Other</strong>, then select <strong>Debug</strong> in the Open Perspective wizard. You can quickly switch between Design Perspective and Debug Perspective with buttons on upper right corner.</p>
</div></blockquote>
<p><img alt="Switch between Vitis Perspectives" src="../../../_images/vitis_perspectives.png" /></p>
<p>The Debug Perspective looks like this:</p>
<p><img alt="../../../_images/image46.jpeg" src="../../../_images/image46.jpeg" /></p>
<blockquote>
<div><p><strong>Note:</strong> The addresses shown on this page might slightly differ
from the addresses shown on your system.</p>
</div></blockquote>
<p>The processor is currently sitting at the beginning of <code class="docutils literal notranslate"><span class="pre">main()</span></code> with
program execution suspended at line <code class="docutils literal notranslate"><span class="pre">0000000000000cf0</span></code>. You can confirm
this information in the Disassembly view, which shows the
assembly-level program execution also suspended at <code class="docutils literal notranslate"><span class="pre">0000000000000cf0</span></code>.</p>
<blockquote>
<div><p><strong>Note:</strong> If the Disassembly view is not visible, select <strong>Window→ Show View→ Disassembly</strong>.</p>
</div></blockquote>
</li>
<li><p>The helloworld.c window also shows execution suspended at the first
executable line of C code. Select the <strong>Registers</strong> view to
confirm that the program counter, pc register, contains
<code class="docutils literal notranslate"><span class="pre">0000000000000cf0</span></code>.</p>
<p><strong><em>Note</em>:</strong> If the Registers window is not visible, select <strong>Window → Show View → Registers</strong>.</p>
</li>
<li><p>Double-click in the margin of the <strong>helloworld.c</strong> window next to the
line of code that reads print (“<code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">World\n\r</span></code>”);. This sets a
breakpoint at the <code class="docutils literal notranslate"><span class="pre">printf</span></code> command. To confirm the breakpoint,
review the Breakpoints window.</p>
<blockquote>
<div><p><strong>Note:</strong> If the Breakpoints window is not visible, select <strong>Window → Show View → Breakpoints</strong>.</p>
</div></blockquote>
</li>
<li><p>Select <strong>Run → Step Into (F5)</strong> to step into the <code class="docutils literal notranslate"><span class="pre">init_platform()</span></code> routine.</p>
<p>Program execution suspends at location <code class="docutils literal notranslate"><span class="pre">0000000000000d3c</span></code>. The call
stack is now two levels deep.</p>
</li>
<li><p>Select <strong>Run → Resume (F8)</strong> to continue running the program to the
breakpoint.</p>
<p>Program execution stops at the line of code that includes the <code class="docutils literal notranslate"><span class="pre">printf</span></code>
command. The Disassembly and Debug windows both show program execution
stopped at <code class="docutils literal notranslate"><span class="pre">0000000000001520</span></code>.</p>
<blockquote>
<div><p><strong>Note:</strong> The execution address in your debugging window might
differ if you modified the “Hello World” source code in any way.</p>
</div></blockquote>
</li>
<li><p>Select <strong>Run → Resume (F8)</strong> to run the program to conclusion.</p></li>
</ol>
<p>When the program completes, the Debug window shows that the program is
suspended in a routine called <code class="docutils literal notranslate"><span class="pre">exit</span></code>. This happens when you are running
under control of the debugger.</p>
<ol>
<li><p>Rerun your code several times. Experiment with single-stepping, examining memory, breakpoints,
modifying code, and adding print statements. Try adding and moving
views.</p>
<blockquote>
<div><p><strong>Tip:</strong> You can use the Vitis debugger debugging shortcuts for
step-into (F5), step-return (F7), step-over (F6), and resume (F8).*</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="example-7-debugging-using-xsct">
<h2>Example 7: Debugging Using XSCT<a class="headerlink" href="#example-7-debugging-using-xsct" title="Permalink to this headline">¶</a></h2>
<p>You can use the previous steps to debug bare-metal applications
running on RPU and PMU using the Vitis application debugger GUI.</p>
<p>Additionally, you can debug in command line mode using XSDB, which
is encapsulated as a part of XSCT. In this example, you will debug the
bare-metal application testapp_r5 using XSCT.</p>
<p>The following steps indicate how to load a bare-metal application on R5
using XSCT. This example demonstrates the command line
debugging capability of XSDB/XSCT. Based on your requirements, you
can choose to debug the code using either the System Debugger
GUI or the command line debugger in XSCT. All XSCT
commands are scriptable, and this also applies to the commands covered in
this example.</p>
<div class="section" id="setting-up-the-target">
<h3>Setting Up the Target<a class="headerlink" href="#setting-up-the-target" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Open the XSCT console:</p>
<ul class="simple">
<li><p>Click the <strong>XSCT Console</strong> button <img alt="../../../_images/image482.png" src="../../../_images/image482.png" /> in the toolbar.</p></li>
<li><p>Alternatively, you can open the XSCT console from <strong>Xilinx → XSCT Console</strong>.</p></li>
</ul>
</li>
<li><p>Connect to the target over JTAG:</p>
<ul class="simple">
<li><p>In the XSCT console, run <code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">connect</span></code>.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">connect</span></code> command returns the channel ID of the connection.</p>
</li>
<li><p>Command Targets lists the available targets and allows you to select
a target through its ID. The targets are assigned IDs as they are
discovered on the JTAG chain, so the target IDs can change from
session to session.</p>
<p>For non-interactive usage such as scripting, the <code class="docutils literal notranslate"><span class="pre">-filter</span></code> option can be
used to select a target instead of selecting the target through its
ID:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">targets</span></code></p>
<p>The targets are listed as shown in the following figure.</p>
<p><img alt="XSCT - targets" src="../../../_images/image491.png" /></p>
</li>
<li><p>Select the PSU target. The Arm APU and RPU clusters are grouped under PSU. Select Cortex-A53#0 as the target using the following command:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">targets</span> <span class="pre">-set</span> <span class="pre">-filter</span> <span class="pre">{name</span> <span class="pre">=\~</span> <span class="pre">\&quot;Cortex-A53</span> <span class="pre">\#0\&quot;}</span></code></p>
<p>The command <code class="docutils literal notranslate"><span class="pre">targets</span></code> now lists the targets and also shows the selected
target highlighted with an asterisk (*) mark. You can also use the target
number to select a target, as shown in the following figure.</p>
<p><img alt="XSCT - selected target" src="../../../_images/image501.png" /></p>
</li>
<li><p>The processor is now held in reset. To clear the processor reset,
use the following command:</p>
<p><code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-processor</span></code></p>
</li>
<li><p>Load the FSBL on Cortex-A53 #0. FSBL initializes the Zynq UltraScale+ processing
system.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span>xsct% dow {C:\edt\fsbl_a53\Debug\fsbl_a53.elf}
xsct% con
xsct% stop
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p><strong>Note:</strong> The {} used in the above command are required on Windows
machines to enable backward slashes () in file paths. These brackets can be
avoided by using forward “/” in paths. For Linux paths, use
forward slashes; the paths in XSCT in Linux can work as-is, without any brackets.</p>
</div></blockquote>
</div>
<div class="section" id="loading-the-application-using-xsct">
<h3>Loading the Application Using XSCT<a class="headerlink" href="#loading-the-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Check and select the RPU Cortex-R5F Core 0 target ID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span> <span class="o">-</span><span class="nb">set</span> <span class="o">-</span><span class="nb">filter</span> <span class="p">{</span><span class="n">name</span> <span class="o">=~</span> <span class="s2">&quot;Cortex-R5 #0&quot;</span><span class="p">}</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">rst</span> <span class="o">-</span><span class="n">processor</span>
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-processor</span></code> clears the reset on an individual processor
core.</p>
<p>This step is important, because when the Zynq MPSoC boots up JTAG boot
mode, all the Cortex-A53 and Cortex-R5F cores are held in reset. You
must clear the resets on each core before debugging on these cores.
The <code class="docutils literal notranslate"><span class="pre">rst</span></code> command in XSDB can be used to clear the resets.</p>
</li>
</ol>
<blockquote>
<div><p><strong>Note:</strong> The command <code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-cores</span></code> clears resets on all the processor
cores in the group (such as APU or RPU), of which the current target
is a child. For example, when A53 #0 is the current target, <code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-</span> <span class="pre">cores</span></code> clears resets on all the Cortex-A53 cores in the APU.</p>
</div></blockquote>
<ol>
<li><p>Download the testapp_r5 application on Arm Cortex-R5F Core 0.</p>
<ul class="simple">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">dow</span> <span class="pre">{C:\edt\testapp_r5\Debug\testapp_r5.elf}</span></code> or
<code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">dow</span> <span class="pre">{C:/edt/testapp_r5/Debug/testapp_r5.elf}</span></code>.</p></li>
</ul>
<p>At this point, you can see the sections from the ELF file downloaded
sequentially. The XSCT prompt can be seen after successful download. Now, configure a serial terminal (Tera Term, Minicom, or the serial terminal interface for a UART-1 USB-serial connection).</p>
</li>
</ol>
</div>
<div class="section" id="serial-terminal-configuration">
<h3>Serial Terminal Configuration<a class="headerlink" href="#serial-terminal-configuration" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Start a terminal session using Tera Term or Minicom depending on the host machine being used. Set the
COM port and baud rate as shown in following figure.</p>
<p><img alt="../../../_images/image44.png" src="../../../_images/image44.png" /></p>
</li>
<li><p>For port settings, verify the COM port in the device manager. There
are four USB UART interfaces exposed by the ZCU102 board. Select
the COM port associated with the interface with the lowest number.
In this case, for UART-0, select the COM port with interface-0.</p></li>
<li><p>Similarly, for UART-1, select the COM port with interface-1. Remember
that the R5 BSP has been configured to use UART-1, so R5
application messages will appear on the COM port with the UART-1
terminal.</p></li>
</ol>
</div>
<div class="section" id="running-and-debugging-the-application-using-xsct">
<h3>Running and Debugging the Application Using XSCT<a class="headerlink" href="#running-and-debugging-the-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Before you run the application, set a breakpoint at <code class="docutils literal notranslate"><span class="pre">main()</span></code>:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">bpadd</span> <span class="pre">-addr</span> <span class="pre">&amp;main</span></code></p>
<p>This command returns the breakpoint ID. You can verify the breakpoints
planted using the command <code class="docutils literal notranslate"><span class="pre">bplist</span></code>. For more details on breakpoints in XSCT,
type <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">breakpoint</span></code> in the XSCT console.</p>
</li>
<li><p>Resume the processor core:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">con</span></code></p>
<p>The following informative messages will be displayed when the core
hits the breakpoint.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">Info:</span> <span class="pre">Cortex-R5</span> <span class="pre">\#0</span> <span class="pre">(target</span> <span class="pre">7)</span> <span class="pre">Stopped</span> <span class="pre">at</span> <span class="pre">0x10021C</span> <span class="pre">(Breakpoint)</span></code></p>
</li>
<li><p>At this point, you can view registers when the core is stopped:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">rrd</span></code></p>
</li>
<li><p>View local variables:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">locals</span></code></p>
</li>
<li><p>Step over a line of the source code and view the stack trace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">nxt</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Cortex</span><span class="o">-</span><span class="n">R5</span> <span class="c1">#0 (target 6) Stopped at 0x100490 (Step)</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">bt</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span></code> command to find other options:</p>
<p><img alt="../../../_images/image51.png" src="../../../_images/image51.png" /></p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">running</span></code> command to get a list of possible options
for running or debugging an application using XSCT.</p>
<p><img alt="../../../_images/image522.png" src="../../../_images/image522.png" /></p>
</li>
<li><p>You can now run the code:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">con</span></code></p>
<p>At this point, you can see the Cortex-R5F application print a message on the
UART-1 terminal.</p>
<p>The <a class="reference internal" href="6-build-linux-sw-for-ps.html"><span class="doc">next chapter</span></a> shows how to build and debug Linux applications.</p>
</li>
</ol>
<p>© Copyright 2017-2021 Xilinx, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p>http://www.apache.org/licenses/LICENSE-2.0</p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="6-build-linux-sw-for-ps.html" class="btn btn-neutral float-right" title="Building and Debugging Linux Applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="4-build-sw-for-ps-subsystems.html" class="btn btn-neutral float-left" title="Building Standalone Software for PS Subsystems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on August 9, 2021.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2021, Xilinx, Inc.
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>