


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../../../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

	<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="37701bd4-e5c0-4ee3-9329-e7475d0b13a7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
		<!-- Google Tag Manager -->
	<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
	<!-- End Google Tag Manager -->
	
        <!-- Google Tag Manager -->
        <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
        <!-- End Google Tag Manager -->	

  
  
  
  

  
      <script type="text/javascript" src="../../../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../../../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../../../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../../../_static/js/Searchbox.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/header-footer.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Building and Debugging Linux Applications" href="6-build-linux-sw-for-ps.html" />
    <link rel="prev" title="Building Standalone Software for PS Subsystems" href="4-build-sw-for-ps-subsystems.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
 <div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">

    
    

    



<div class="xf-content-height">
    

<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
    
    <div class="header parbase aem-GridColumn aem-GridColumn--default--12"><noindex>
	<header data-component="header" class="site-header">
		<nav class="navbar navbar-default">
			<div class="container-fluid main-nav">
				<div class="row">
					<div class="navbar-column col-xs-4 col-sm-5">
						<ul class="nav navbar-nav hidden-xs">
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
								</li>
							<li>
									<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
								</li>
							</ul>
							
						<ul class="nav navbar-nav hidden-sm hidden-md hidden-lg">
							<li>
									<button data-target="#header-container-0" data-function="toggle">Solutions</button>
								</li>
							<li>
									<button data-target="#header-container-1" data-function="toggle">Products</button>
								</li>
							<li>
									<button data-target="#header-container-2" data-function="toggle">Company</button>
								</li>
							</ul>
							
						<div id="header-container-0" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-1" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							<div id="header-container-2" class="menu-container">
								<div class="navbar-nav-container">
									<ul class="nav navbar-nav">
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/applications.html&#39;;">Solutions</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/products/silicon-devices.html&#39;;">Products</button>
												</li>
										<li>
												<button onclick="window.location.href=&#39;https://www.xilinx.com/about/company-overview.html&#39;;">Company</button>
												</li>
										</ul>
									<button data-function="close-menu">
										<span class="fal fa-times" aria-hidden="true"></span>
									</button>
								</div>
							</div>
							</div>
					<div class="logo-column col-xs-4 col-sm-2">
						<div class="logo">
							<a target="_blank" href="https://www.xilinx.com/">
								<img src="https://github.com/Xilinx/Image-Collateral/blob/main/xilinx-header-logo.svg?raw=true" title="Xilinx Inc"/>
							</a>
						</div>
					</div>

				</div>
			</div>
			</nav></header></noindex></div>
		
	
</div>

    
</div>
</div>

<div class="calloutBanner parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><div class="callout-banner">
    Xilinx is now a part of <a target="_blank" href="https://www.amd.com/en/corporate/xilinx-acquisition">AMD</a> |  <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Learn More</a>
</div>
</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Embedded Design Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2021.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">简体中文</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-cn/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">日本語</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption"><span class="caption-text">Introduction</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/Versal-EDT.html">Versal ACAP Embedded Design Tutorial</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ZynqMPSoC-EDT.html">Zynq UltraScale+ MPSoC Embedded Design Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1-introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="2-getting-started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="3-system-configuration.html">Zynq UltraScale+ MPSoC System Configuration with Vivado</a></li>
<li class="toctree-l2"><a class="reference internal" href="4-build-sw-for-ps-subsystems.html">Building Software for PS Subsystems</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Debugging Standalone Applications with the Vitis Debugger</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#xilinx-system-debugger">Xilinx System Debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-6-debugging-software-using-the-vitis-debugger">Example 6: Debugging Software Using the Vitis Debugger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-7-debugging-using-xsct">Example 7: Debugging Using XSCT</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-the-target">Setting Up the Target</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loading-the-application-using-xsct">Loading the Application Using XSCT</a></li>
<li class="toctree-l4"><a class="reference internal" href="#serial-terminal-configuration">Serial Terminal Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-and-debugging-the-application-using-xsct">Running and Debugging the Application Using XSCT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="6-build-linux-sw-for-ps.html">Building and Debugging Linux Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="7-design1-using-gpio-timer-interrupts.html">System Design Example: Using GPIO, Timer and Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="8-boot-and-configuration.html">Boot and Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="9-secure-boot.html">Secure Boot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Zynq7000-EDT/Zynq7000-EDT.html">Zynq-7000 Embedded Design Tutorial</a></li>
</ul>
<p class="caption"><span class="caption-text">Feature Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/debuggable-fsbl/debuggable-fsbl.html">First Stage Boot Loader (FSBL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/sw-profiling/sw-profiling.html">Profiling Applications with System Debugger</a></li>
</ul>
<p class="caption"><span class="caption-text">Design Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Design_Tutorials/MPSoC_Graphic_Subsystem/README.html">Example Setup for a Graphics and DisplayPort Based Sub-System</a></li>
</ul>
<p class="caption"><span class="caption-text">Debugging</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vitis-Embedded-Software-Debugging/Debugging.html">Vitis Embedded Software Debugging Guide (UG1515) 2021.1</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../User_Guides/SPA-UG/SPA-UG.html">System Performance Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../User_Guides/Performance_Benchmark/Dhrystone/README.html">Versal Dhrystone Benchmark</a></li>
</ul>
<p class="caption"><span class="caption-text">Previous Releases</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://xilinx.github.io/Embedded-Design-Tutorials/docs/2021.1/docs/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="http://xilinx.github.io/Embedded-Design-Tutorials/docs/2020.2/docs/index.html">2020.2</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../../../_sources/docs/Introduction/ZynqMPSoC-EDT/5-debugging-with-vitis-debugger.rst.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Embedded Design Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="ZynqMPSoC-EDT.html">Zynq UltraScale+ MPSoC Embedded Design Tutorial</a> &raquo;</li>
        
      <li>Debugging Standalone Applications with the Vitis Debugger</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/docs/Introduction/ZynqMPSoC-EDT/5-debugging-with-vitis-debugger.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="debugging-standalone-applications-with-the-vitis-debugger">
<h1>Debugging Standalone Applications with the Vitis Debugger<a class="headerlink" href="#debugging-standalone-applications-with-the-vitis-debugger" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes debug possibilities with the design flow you have already been working with. The first option is debugging with software using the Vitis™ debugger.</p>
<p>The Vitis debugger provides the following debug capabilities:</p>
<ul class="simple">
<li><p>Debugging of programs on Arm® Cortex™-A53, Arm® Cortex™-R5F, and MicroBlaze™ processor architectures (heterogeneous multi-processor hardware system debugging)</p></li>
<li><p>Debugging of programs on hardware boards</p></li>
<li><p>Debugging on remote hardware systems</p></li>
<li><p>A feature-rich IDE to debug programs</p></li>
<li><p>A Tool Command Language (Tcl) interface for running test scripts and automation</p></li>
</ul>
<p>The Vitis debugger enables you to see what is happening to a program while it executes. You can set breakpoints or watchpoints to stop the
processor, step through program execution, view the program variables and stack, and view the contents of the memory in the system.</p>
<p>The Vitis debugger supports debugging through Xilinx® System Debugger.</p>
<div class="section" id="xilinx-system-debugger">
<h2>Xilinx System Debugger<a class="headerlink" href="#xilinx-system-debugger" title="Permalink to this headline">¶</a></h2>
<p>The Xilinx System Debugger uses the Xilinx hardware server as the underlying debug engine. The Vitis IDE translates each user interface
action into a sequence of Target Communication Framework (TCF) commands. It then processes the output from System Debugger to display the current state of the program being debugged. It communicates to the processor on the hardware using Xilinx hardware server.</p>
<p>The debug workflow is described in the following figure.</p>
<img alt="../../../_images/system-debugger-flow.png" src="../../../_images/system-debugger-flow.png" />
<p>The workflow is made up of the following components:</p>
<ul class="simple">
<li><p><strong>Executable ELF File:</strong> To debug your application, you must use an executable and linkable format (ELF) file compiled for debugging. The debug ELF file contains additional debug information for the debugger to make direct associations between the source code and the binaries generated from that original source. To manage the build configurations, right-click the software application and select <strong>Build Configurations → Manage</strong>.</p></li>
<li><p><strong>Debug Configuration:</strong> To launch the debug session, you must create a debug configuration in the Vitis debugger. This configuration captures the options required to start a debug session, including the executable name, processor target to debug, and other information. To create a debug configuration, right-click your software application and select <strong>Debug As → Debug Configurations</strong>.</p></li>
<li><p><strong>Vitis Debug Perspective:</strong> Using the Debug perspective, you can manage the debugging or running of a program in the workbench. You can control the execution of your program by setting breakpoints, suspending launched programs, stepping through your code, and examining the contents of variables. To view the Debug Perspective, select <strong>Window → Open Perspective → Debug</strong>.</p></li>
</ul>
<p>You can repeat the cycle of modifying the code, building the executable, and debugging the program in the Vitis debugger.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you edit the source after compiling, the line numbering will be out of step because the debug information is tied directly to the source. Similarly, debugging optimized binaries can also cause unexpected jumps in the execution trace.</p>
</div>
</div>
<div class="section" id="example-6-debugging-software-using-the-vitis-debugger">
<h2>Example 6: Debugging Software Using the Vitis Debugger<a class="headerlink" href="#example-6-debugging-software-using-the-vitis-debugger" title="Permalink to this headline">¶</a></h2>
<p>In this example, you will walk through debugging a “Hello World” application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you did not create a “Hello World” application on the APU or RPU, follow the steps in <span class="xref std std-ref">creating-a-custom-bare-metal-application-for-an-arm-cortex-a53-based-apu</span> to create a new “Hello World” application.</p>
</div>
<p>After you create the “Hello World” application, work through the
following example to debug the software using the Vitis debugger.</p>
<ol class="arabic">
<li><p>Connect the JTAG cable, set the boot mode to JTAG, and power on the board. Refer to the steps in <a class="reference internal" href="4-build-sw-for-ps-subsystems.html#example-3-running-the-hello-world-application-from-arm-cortex-a53"><span class="std std-ref">Example 3: Running the “Hello World” Application from Arm Cortex-A53</span></a>.</p></li>
<li><p>In the C/C++ Perspective, right-click the <strong>hello_a53 Project</strong> and select <strong>Debug As→ Launch on Hardware → Single Application Debug</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above step launches the Application Debugger in the Debug perspective based on the project settings. Alternatively, you can create a debug configuration which looks like the following figure.</p>
</div>
<div class="figure align-default" id="id1">
<img alt="../../../_images/vitis_single_app_debug_configurations.png" src="../../../_images/vitis_single_app_debug_configurations.png" />
<p class="caption"><span class="caption-text">Debug Configurations</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The contents of Debug Configurations are identical to those in Run Configurations. The difference between run and debug is that debug stops at the <cite>main()</cite> function by default.</p>
</div>
<p>If the Confirm Perspective Switch popup window appears, click <strong>Yes</strong>. The Debug perspective opens.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Debug perspective window does not open automatically, select <strong>Window→ Perspective → Open Perspective → Other</strong>, then select <strong>Debug</strong> in the Open Perspective wizard. You can quickly switch between Design Perspective and Debug Perspective with buttons on upper right corner.</p>
</div>
<div class="figure align-default" id="id2">
<img alt="../../../_images/vitis_perspectives.png" src="../../../_images/vitis_perspectives.png" />
<p class="caption"><span class="caption-text">Switch between Vitis Perspectives</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The Debug Perspective looks like this:</p>
<img alt="../../../_images/image46.jpeg" src="../../../_images/image46.jpeg" />
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The addresses shown on this page might slightly differ from the addresses shown on your system.</p>
</div>
<p>The processor is currently sitting at the beginning of <cite>main()</cite> with program execution suspended at line <cite>0000000000000cf0</cite>. You can confirm this information in the Disassembly view, which shows the assembly-level program execution also suspended at
<cite>0000000000000cf0</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Disassembly view is not visible, select <strong>Window→Show View→ Disassembly</strong>.</p>
</div>
</li>
<li><p>The helloworld.c window also shows execution suspended at the first executable line of C code. Select the <strong>Registers</strong> view to confirm
that the program counter, pc register, contains <cite>0000000000000cf0</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Registers window is not visible, select <strong>Window → Show View → Registers</strong>.</p>
</div>
</li>
<li><p>Double-click in the margin of the <strong>helloworld.c</strong> window next to the line of code that reads print (“Hello World”);. This sets a breakpoint at the <cite>printf</cite> command. To confirm the breakpoint, review the Breakpoints window.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the Breakpoints window is not visible, select <strong>Window → Show View → Breakpoints</strong>.</p>
</div>
</li>
<li><p>Select <strong>Run → Step Into (F5)</strong> to step into the <cite>init_platform()</cite> routine.</p>
<p>Program execution suspends at location <cite>0000000000000d3c</cite>. The call stack is now two levels deep.</p>
</li>
<li><p>Select <strong>Run → Resume (F8)</strong> to continue running the program to the breakpoint.</p>
<p>Program execution stops at the line of code that includes the <cite>printf</cite> command. The Disassembly and Debug windows both show program execution stopped at <cite>0000000000001520</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The execution address in your debugging window might differ if you modified the “Hello World” source code in any way.</p>
</div>
</li>
<li><p>Select <strong>Run → Resume (F8)</strong> to run the program to conclusion.</p>
<p>When the program completes, the Debug window shows that the program is suspended in a routine called <cite>exit</cite>. This happens when you are running under control of the debugger.</p>
</li>
<li><p>Rerun your code several times. Experiment with single-stepping, examining memory, breakpoints, modifying code, and adding print statements. Try adding and moving views.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use the Vitis debugger debugging shortcuts for step-into (F5), step-return (F7), step-over (F6), and resume (F8).</p>
</div>
</li>
</ol>
</div>
<div class="section" id="example-7-debugging-using-xsct">
<h2>Example 7: Debugging Using XSCT<a class="headerlink" href="#example-7-debugging-using-xsct" title="Permalink to this headline">¶</a></h2>
<p>You can use the previous steps to debug bare-metal applications running on RPU and PMU using the Vitis application debugger GUI.</p>
<p>Additionally, you can debug in command line mode using XSDB, which is encapsulated as a part of XSCT. In this example, you will debug the
bare-metal application testapp_r5 using XSCT.</p>
<p>The following steps indicate how to load a bare-metal application on R5 using XSCT. This example demonstrates the command line debugging
capability of XSDB/XSCT. Based on your requirements, you can choose to debug the code using either the System Debugger GUI or the command line debugger in XSCT. All XSCT commands are scriptable, and this also applies to the commands covered in this example.</p>
<div class="section" id="setting-up-the-target">
<h3>Setting Up the Target<a class="headerlink" href="#setting-up-the-target" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Open the XSCT console:</p>
<ul class="simple">
<li><p>Click the <strong>XSCT Console</strong> button <img alt="image1" src="../../../_images/image482.png" /> in the toolbar.</p></li>
<li><p>Alternatively, you can open the XSCT console from <strong>Xilinx → XSCT Console</strong>.</p></li>
</ul>
</li>
<li><p>Connect to the target over JTAG:</p>
<ul class="simple">
<li><p>In the XSCT console, run <cite>xsct% connect</cite>.</p></li>
</ul>
<p>The <cite>connect</cite> command returns the channel ID of the connection.</p>
</li>
<li><p>Command Targets lists the available targets and allows you to select a target through its ID. The targets are assigned IDs as they are
discovered on the JTAG chain, so the target IDs can change from session to session.</p>
<p>For non-interactive usage such as scripting, the <code class="docutils literal notranslate"><span class="pre">-filter</span></code> option can be used to select a target instead of selecting the target
through its ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span>
</pre></div>
</div>
<p>The targets are listed as shown in the following figure.</p>
<div class="figure align-default" id="id3">
<img alt="../../../_images/image491.png" src="../../../_images/image491.png" />
<p class="caption"><span class="caption-text">XSCT - targets</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>Select the PSU target. The Arm APU and RPU clusters are grouped under PSU. Select Cortex-A53#0 as the target using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span> <span class="o">-</span><span class="nb">set</span> <span class="o">-</span><span class="nb">filter</span> <span class="p">{</span><span class="n">name</span> <span class="o">=</span>\<span class="o">~</span> \<span class="s2">&quot;Cortex-A53 \#0</span><span class="se">\&quot;</span><span class="s2">}</span>
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">targets</span></code> now lists the targets and also shows the selected target highlighted with an asterisk (*) mark. You can also
use the target number to select a target, as shown in the following figure.</p>
<div class="figure align-default" id="id4">
<img alt="../../../_images/image501.png" src="../../../_images/image501.png" />
<p class="caption"><span class="caption-text">XSCT - selected target</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</li>
<li><p>The processor is now held in reset. To clear the processor reset, use the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rst</span> <span class="o">-</span><span class="n">processor</span>
</pre></div>
</div>
</li>
<li><p>Load the FSBL on Cortex-A53 #0. FSBL initializes the Zynq UltraScale+ processing system.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span>xsct% dow {C:\edt\fsbl_a53\Debug\fsbl_a53.elf}
xsct% con
xsct% stop
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The {} used in the above command are required on Windows machines to enable backward slashes () in file paths. These brackets can be avoided by using forward “/” in paths. For Linux paths, use forward slashes; the paths in XSCT in Linux can work as-is, without any brackets.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="loading-the-application-using-xsct">
<h3>Loading the Application Using XSCT<a class="headerlink" href="#loading-the-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Check and select the RPU Cortex-R5F Core 0 target ID.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">targets</span> <span class="o">-</span><span class="nb">set</span> <span class="o">-</span><span class="nb">filter</span> <span class="p">{</span><span class="n">name</span> <span class="o">=~</span> <span class="s2">&quot;Cortex-R5 #0&quot;</span><span class="p">}</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">rst</span> <span class="o">-</span><span class="n">processor</span>
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">rst</span> <span class="pre">-processor</span></code> clears the reset on an individual processor core.</p>
<p>This step is important, because when the Zynq MPSoC boots up JTAG boot mode, all the Cortex-A53 and Cortex-R5F cores are held in reset.
You must clear the resets on each core before debugging on these cores. The <code class="docutils literal notranslate"><span class="pre">rst</span></code> command in XSDB can be used to clear the resets.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The command <cite>rst -cores</cite> clears resets on all the processor cores in the group (such as APU or RPU), of which the current target is a child. For example, when A53 #0 is the current target, <cite>rst - cores</cite> clears resets on all the Cortex-A53 cores in the APU.</p>
</div>
</li>
<li><p>Download the testapp_r5 application on Arm Cortex-R5F Core 0.</p>
<ul class="simple">
<li><p>Run <cite>xsct% dow {C:edttestapp_r5Debugtestapp_r5.elf}</cite> or <cite>xsct% dow {C:/edt/testapp_r5/Debug/testapp_r5.elf}</cite>.</p></li>
</ul>
<p>At this point, you can see the sections from the ELF file downloaded sequentially. The XSCT prompt can be seen after successful download. Now, configure a serial terminal (Tera Term, Minicom, or the serial terminal interface for a UART-1 USB-serial connection).</p>
</li>
</ol>
</div>
<div class="section" id="serial-terminal-configuration">
<h3>Serial Terminal Configuration<a class="headerlink" href="#serial-terminal-configuration" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Start a terminal session using Tera Term or Minicom depending on the host machine being used. Set the COM port and baud rate as shown in following figure.</p>
<img alt="../../../_images/image44.png" src="../../../_images/image44.png" />
</li>
<li><p>For port settings, verify the COM port in the device manager. There are four USB UART interfaces exposed by the ZCU102 board. Select the COM port associated with the interface with the lowest number. In this case, for UART-0, select the COM port with interface-0.</p></li>
<li><p>Similarly, for UART-1, select the COM port with interface-1. Remember that the R5 BSP has been configured to use UART-1, so R5 application messages will appear on the COM port with the UART-1 terminal.</p></li>
</ol>
</div>
<div class="section" id="running-and-debugging-the-application-using-xsct">
<h3>Running and Debugging the Application Using XSCT<a class="headerlink" href="#running-and-debugging-the-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p>Before you run the application, set a breakpoint at <cite>main()</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">bpadd</span> <span class="o">-</span><span class="n">addr</span> <span class="o">&amp;</span><span class="n">main</span>
</pre></div>
</div>
<p>This command returns the breakpoint ID. You can verify the breakpoints planted using the command <code class="docutils literal notranslate"><span class="pre">bplist</span></code>. For more details on
breakpoints in XSCT, type <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">breakpoint</span></code> in the XSCT console.</p>
</li>
<li><p>Resume the processor core:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">con</span>
</pre></div>
</div>
<p>The following informative messages will be displayed when the core hits the breakpoint.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">Info</span><span class="p">:</span> <span class="n">Cortex</span><span class="o">-</span><span class="n">R5</span> \<span class="c1">#0 (target 7) Stopped at 0x10021C (Breakpoint)</span>
</pre></div>
</div>
</li>
<li><p>At this point, you can view registers when the core is stopped:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">rrd</span>
</pre></div>
</div>
</li>
<li><p>View local variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="nb">locals</span>
</pre></div>
</div>
</li>
<li><p>Step over a line of the source code and view the stack trace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">nxt</span>
<span class="n">Info</span><span class="p">:</span> <span class="n">Cortex</span><span class="o">-</span><span class="n">R5</span> <span class="c1">#0 (target 6) Stopped at 0x100490 (Step)</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">bt</span>
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span></code> command to find other options:</p>
<img alt="../../../_images/image51.png" src="../../../_images/image51.png" />
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">running</span></code> command to get a list of possible options for running or debugging an application using XSCT.</p>
<img alt="../../../_images/image522.png" src="../../../_images/image522.png" />
</li>
<li><p>You can now run the code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">con</span>
</pre></div>
</div>
<p>At this point, you can see the Cortex-R5F application print a message on the UART-1 terminal.</p>
<p>The <a class="reference internal" href="6-build-linux-sw-for-ps.html"><span class="doc">next chapter</span></a> shows how to build and debug Linux applications.</p>
</li>
</ol>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="6-build-linux-sw-for-ps.html" class="btn btn-neutral float-right" title="Building and Debugging Linux Applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="4-build-sw-for-ps-subsystems.html" class="btn btn-neutral float-left" title="Building Standalone Software for PS Subsystems" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on February 9, 2022.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
														
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<div class="lang-select dropup hidden-md hidden-lg">
		<button data-toggle="dropdown">
			<span class="fas fa-globe" aria-hidden="true"></span>
			<span>
				
					English
				</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a target="_blank" href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a target="_blank" href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
																	<div class="lang-select dropup hidden-xs hidden-sm">
	<button data-toggle="dropdown">
		<span class="fas fa-globe" aria-hidden="true"></span>
		<span>
			
				English
			</span>
		<span class="far fa-angle-down" aria-hidden="true"></span>
	</button>
	<ul class="dropdown-menu">
		<li>
				<a target="_blank" href="https://japan.xilinx.com/" target="_self">
					日本語
				</a>
			</li>
		<li>
				<a target="_blank" href="https://china.xilinx.com/" target="_self">
					简体中文
				</a>
			</li>
		</ul>
	</div>
															</div>
														</div>
														<div class="col-md-pull-5 col-lg-pull-5 col-md-5 col-lg-5">
															<span class="copyright">©2022 Advanced Micro Devices, Inc</span>
														</div>

													</div>
													                    <div class="movethisrowtoleft row">
                        <div class="col-xs-24">
                            <ul class="sub-menu">
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a></li>
                                <li><a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a></li>
                                <li><a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a></li>
								<li><a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a></li>
                                <li><a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></li>
                            </ul>
                        </div>
                    </div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
<div class="backToTop parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16"><noindex>
    <span data-component="backToTopButton" class="backToTopButton loaded">
        <ul>
            <li>
                <a href="https://www.author.xilinx.com/xx/rebrand/amd/en-amd-xilinx-header-footer.html#top" class="btn top">
                    <span class="fas fa-angle-up" aria-hidden="true"></span>
                </a>
            </li>
        </ul>
    </span>
</noindex></div>
			</div>
		</div>


		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>