<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Debugging with the Vitis Software Platform &mdash; Embedded Design Tutorials 2020.2 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../index.html" class="icon icon-home"> Embedded Design Tutorials
            <img src="../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2020.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">简体中文</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-cn/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">日本語</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Versal-EDT/README.html">Versal ACAP Embedded Design Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ZynqMPSoC-EDT/README.html">Zynq UltraScale+ MPSoC Embedded Design Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Zynq-7000 Embedded Design Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Feature Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/debuggable_fsbl/debuggable-fsbl.html">First Stage Boot Loader (FSBL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/linux_aware_debugging/linux-aware-debugging.html">Linux Aware Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/secure_boot/secure-boot.html">Secure Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Feature_Tutorials/sw_profiling/sw-profiling.html">Profiling Applications with System Debugger</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Design_Tutorials/MPSoC_Graphic_Subsystem/README.html">Example Setup for a Graphics and DisplayPort Based Sub-System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Debugging</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vitis-Embedded-Software-Debugging/README.html">Vitis Embedded Software Debugging</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/README.html">System Performance Analysis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">See All Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2022.1/build/html/index.html">2022.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2021.2/build/html/index.html">2021.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2021.1/build/html/index.html">2021.1</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Embedded Design Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Debugging with the Vitis Software Platform</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/Introduction/Zynq7000-EDT/3-debugging-vitis.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="debugging-with-the-vitis-software-platform">
<h1>Debugging with the Vitis Software Platform<a class="headerlink" href="#debugging-with-the-vitis-software-platform" title="Permalink to this heading">¶</a></h1>
<p>This chapter describes debug possibilities with the design flow you
have already been working with. The first option is debugging with
software using the Xilinx® Vitis™ unified software platform.</p>
<p>The Vitis software platform debugger provides the following debug
capabilities:</p>
<ul class="simple">
<li><p>Debugging of programs on MicroBlaze™ and Arm Cortex™-A9
processor architectures (heterogeneous multi-processor hardware
system debugging)</p></li>
<li><p>Debugging of programs on hardware boards</p></li>
<li><p>Debugging on remote hardware systems</p></li>
<li><p>A feature-rich integrated design environment (IDE) to debug
programs</p></li>
<li><p>A Tool Command Language (Tcl) interface for running test
scripts and automation</p></li>
</ul>
<p>The Vitis debugger enables you to see what is happening to a program
while it executes. You can set breakpoints or watchpoints to stop the
processor, step through program execution, view the program variables
and stack, and view the contents of the memory in the system.</p>
<p>The Vitis software platform supports debugging through Xilinx System
Debugger and GNU Debugger (GDB).</p>
<p><strong>Note:</strong> The GDB flow is deprecated and will not be available for
future devices.</p>
<div class="section" id="xilinx-system-debugger">
<h2>Xilinx System Debugger<a class="headerlink" href="#xilinx-system-debugger" title="Permalink to this heading">¶</a></h2>
<p>The Xilinx System Debugger uses the Xilinx hw_server as the underlying
debug engine. The Vitis software platform translates each user
interface action into a sequence of Target Communication Framework
(TCF) commands. It then processes the output from System Debugger to
display the current state of the program being debugged. It
communicates to the processor on the hardware using Xilinx hw_server.</p>
<p>The debug workflow is described in the following figure.</p>
<p><img alt="../../../_images/Drawing1.png" src="../../../_images/Drawing1.png" /></p>
<p>The workflow is made up of the following components:</p>
<ul class="simple">
<li><p><strong>Executable ELF File:</strong> To debug your application, you must use an
Executable and Linkable Format (ELF) file compiled for debugging.
The debug ELF file contains additional debug information for the
debugger to make direct associations between the source code and
the binaries generated from that original source. To choose a build configuration, click the dropdown menu of the hammer icon on the tool bar and select Debug or Release. To manage a
build configuration, right-click the software application, select <strong>C/C++ Build Settings</strong>, choose the configuration in the drop down menu, then change the build settings accordingly.</p></li>
<li><p><strong>Debug Configuration:</strong> To launch the debug session, you must
create a debug configuration in the Vitis software platform. This
configuration captures the options required to start a debug session,
including the executable name, processor target to debug, and
other information. To create a debug configuration, right-click
your software application and select <strong>Debug As → Debug Configurations</strong>.</p></li>
<li><p><strong>Debug Perspective:</strong> Using the Debug perspective, you can manage
the debugging or running of a program in the Vitis IDE. You can
control the execution of your program by setting breakpoints,
suspending launched programs, stepping through your code, and
examining the contents of variables. To view the Debug
perspective, select <strong>Window → Open Perspective → Debug</strong>. You can also quickly switch the perspective using the Design or Debug buttons on the upper-right corner of the Vitis IDE.</p></li>
</ul>
<p>You can repeat the cycle of modifying the code, building the
executable, and debugging the program in the Vitis software platform.</p>
<p><strong>Note:</strong> If you edit the source after compiling, the line numbering
will be out of step because the debug information is tied directly to
the source. Similarly, debugging optimized binaries can also cause
unexpected jumps in the execution trace.</p>
</div>
<div class="section" id="example-3-debugging-standalone-software-using-the-vitis-software-platform">
<h2>Example 3: Debugging Standalone Software Using the Vitis Software Platform<a class="headerlink" href="#example-3-debugging-standalone-software-using-the-vitis-software-platform" title="Permalink to this heading">¶</a></h2>
<p>In this example, you will walk through debugging the “Hello World” application created in <a class="reference external" href="./2-using-zynq.html#example-2-creating-and-running-a-hello-world-application">Example 2</a>.</p>
<div class="section" id="input-and-output-files">
<h3>Input and Output Files<a class="headerlink" href="#input-and-output-files" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Input files: Vitis workspace from Example 2</p></li>
<li><p>Output files: N/A</p></li>
</ul>
</div>
<div class="section" id="debugging-standalone-applications-in-the-vitis-ide">
<h3>Debugging Standalone Applications in the Vitis IDE<a class="headerlink" href="#debugging-standalone-applications-in-the-vitis-ide" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>In the C/C++ perspective, right-click the Hello_world project and select <strong>Debug As → Debug Configurations</strong>.</p>
<p>In Target Setup tab, fill the Hardware Platform field with the one
exported by the Vivado® Design Suite, and click the <strong>Debug</strong> button.</p>
<p><img alt="../../../_images/image58.png" src="../../../_images/image58.png" /></p>
<p>The Debug perspective opens.</p>
<p><strong>Note:</strong> If the Debug Perspective window does not automatically
open, select <strong>Window → Open perspective</strong> and select <strong>Debug</strong> in the
Open Perspective dialog box.</p>
<p><img alt="../../../_images/image59.png" src="../../../_images/image59.png" /></p>
<p><strong>Note:</strong> The addresses shown on this page might differ slightly from the addresses shown on your system.</p>
<p>The processor is currently sitting at the beginning of <code class="docutils literal notranslate"><span class="pre">main()</span></code>. You can confirm this
information in the Disassembly view, which shows the assembly-level program execution also suspended at the same address.</p>
<p><strong>Note:</strong> If the Disassembly view is not visible, select <strong>Window → Show view</strong>, select <strong>Disassembly</strong> under <strong>Debug</strong>, and click <strong>Open</strong>.</p>
</li>
<li><p>The helloworld.c window also shows execution suspended at the first
executable line of C code.</p>
<p><strong>Note:</strong> If the Registers view is not visible, select <strong>Window → Show view → Debug→ Registers</strong>.</p>
</li>
<li><p>Double-click in the margin of the helloworld.c window next to the
line of code that reads <code class="docutils literal notranslate"><span class="pre">init_platform()</span></code> and <code class="docutils literal notranslate"><span class="pre">print()</span></code>. This sets the
breakpoints at <code class="docutils literal notranslate"><span class="pre">init_platform()</span></code> and <code class="docutils literal notranslate"><span class="pre">print()</span></code>. To confirm the
breakpoints, review the Breakpoints view.</p>
<p><strong>Note:</strong> If the Breakpoints view is not visible, select <strong>Window → Show view → Debug → Breakpoints</strong>.</p>
</li>
<li><p>Select <strong>Run → Step Into</strong> to step into the <code class="docutils literal notranslate"><span class="pre">init_platform()</span></code> routine.</p>
<p>The program executes one step. The call stack is now two levels deep.</p>
</li>
<li><p>Select <strong>Run → Resume</strong> to continue running the program to the
breakpoint.</p>
<p>Program execution stops at the line of code that includes the print
command.</p>
<p><strong>Note:</strong> The execution address in your debugging window might
differ if you modified the “Hello World” source code in any way.</p>
</li>
<li><p>Select <strong>Run → Resume</strong> to run the program to conclusion.</p>
<p>When the program completes, the Terminal view shows the Hello World
print and the Debug view shows that the program is suspended in a
routine called <code class="docutils literal notranslate"><span class="pre">exit</span></code>. This happens when you are running under control
of the debugger.</p>
</li>
<li><p>Rerun your code several times. Experiment with single-stepping, examining memory, breakpoints, modifying code, and adding print statements. Try adding and moving views.</p>
<p><strong>TIP:</strong> You can use Vitis tool debugging shortcuts for step-into (F5), step-over (F6), step-return (F7), and resume (F8).</p>
</li>
<li><p>Click Disconnect button on the tool bar to disconnect to the board, or exit the Vitis software platform directly.</p></li>
</ol>
<p>See the <a class="reference internal" href="4-linux-for-zynq.html"><span class="doc">next chapter</span></a> for building and debugging Linux applications for Zynq-7000 SoCs.</p>
<p>© Copyright 2015–2021 Xilinx, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p>http://www.apache.org/licenses/LICENSE-2.0</p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2022, Xilinx, Inc. Xilinx is now a part of AMD.
      <span class="lastupdated">Last updated on August 1, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="https://pages.gitenterprise.xilinx.com/techdocs/Test/vvas/build/html/index.html#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>