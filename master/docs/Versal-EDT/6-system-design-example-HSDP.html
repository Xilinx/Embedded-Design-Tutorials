


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="../_static/js/linkid.js"></script>		
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Appendix: Creating the PLM" href="A-creating-plm.html" />
    <link rel="prev" title="System Design Example using Scalar Engine and Adaptable Engine" href="5-system-design-example.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../README.html" class="icon icon-home" alt="Documentation Home"> Embedded Design Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2020.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Versal Embedded Design Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about-guide.html">Versal Embedded Design Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="1-getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-cips-noc-ip-config.html">Versal ACAP CIPS and NoC (DDR) IP Core Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-debugging.html">Debugging Using the Vitis Software Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-boot-and-config.html">Boot and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-system-design-example.html">System Design Example using Scalar Engine and Adaptable Engine</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">System Design Example for High-Speed Debug Port with SmartLynq+ Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#design-example-enabling-the-hsdp">Design Example: Enabling the HSDP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#modifying-the-design-to-enable-the-hsdp">Modifying the Design to Enable the HSDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#synthesizing-implementing-and-generating-the-device-image">Synthesizing, Implementing, and Generating the Device Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exporting-hardware-xsa">Exporting Hardware (XSA)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#creating-the-hsdp-enabled-linux-image-using-petalinux">Creating the HSDP-enabled Linux Image Using PetaLinux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-the-smartlynq-module">Setting Up the SmartLynq+ Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-smartlynq-as-a-serial-terminal">Using the SmartLynq+ as a Serial Terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#booting-linux-images-over-jtag-or-hsdp">Booting Linux Images over JTAG or HSDP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#useful-links">Useful Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="A-creating-plm.html">Appendix: Creating the PLM</a></li>
</ul>
<p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master">Master</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../_sources/Versal-EDT/6-system-design-example-HSDP.html"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../README.html">Embedded Design Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../README.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>System Design Example for High-Speed Debug Port with SmartLynq+ Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Versal-EDT/6-system-design-example-HSDP.html" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-design-example-for-high-speed-debug-port-with-smartlynq-module">
<h1>System Design Example for High-Speed Debug Port with SmartLynq+ Module<a class="headerlink" href="#system-design-example-for-high-speed-debug-port-with-smartlynq-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This chapter demonstrates how to build a Versal™-based system that utilizes both the SmartLynq+ module and the High-Speed Debug Port (HSDP). You will also learn to set up the SmartLynq+ module and download a Linux image using either JTAG or the HSDP.</p>
<blockquote>
<div><p><strong>Important:</strong> <em>This tutorial requires a SmartLynq+ module, a VCK190 or VMK180 evaluation board, and a Linux host machine.</em></p>
</div></blockquote>
</div>
<div class="section" id="design-example-enabling-the-hsdp">
<h2>Design Example: Enabling the HSDP<a class="headerlink" href="#design-example-enabling-the-hsdp" title="Permalink to this headline">¶</a></h2>
<p>To enable the HSDP, start with the VCK190 or VMK180 project that you built in the preceding chapter (or, the pre-built project provided in the design package <code class="docutils literal notranslate"><span class="pre">&lt;design-package&gt;/smartlynq_plus/vck190/design_files/vck190_edt_versal_hsdp.xpr.zip</span></code>) and modify the project to include HSDP support.</p>
<div class="section" id="modifying-the-design-to-enable-the-hsdp">
<h3>Modifying the Design to Enable the HSDP<a class="headerlink" href="#modifying-the-design-to-enable-the-hsdp" title="Permalink to this headline">¶</a></h3>
<p>This design uses the project built in <a class="reference external" href="#5-system-design-example">System Design Example using Scalar Engine and Adaptable Engine</a> and enables the HSDP interface. You can do this using the Vivado IP integrator.</p>
<ol>
<li><p>Open the Vivado project you created in <a class="reference external" href="#5-system-design-example">Chapter 5: System Design Example using Scalar Engine and Adaptable Engine</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">C:/edt/edt_versal/edt_versal.xpr</span></code></p>
</li>
<li><p>In the Flow Navigator, under <strong>IP Integrator</strong>, click <strong>Open Block Design</strong>.</p>
<p><img alt="../_images/image51.png" src="../_images/image51.png" /></p>
</li>
<li><p>Double-click the Versal ACAP CIPS IP core and click <strong>Debug → Debug Configuration</strong>.
<img alt="../_images/ch6-image1.png" src="../_images/ch6-image1.png" /></p></li>
<li><p>Under <strong>High-Speed Debug Port (HSDP)</strong>, select <strong>AURORA</strong> as the <strong>Pathway to/from Debug Packet Controller (DPC)</strong>.</p>
<p><img alt="../_images/ch6-image2.png" src="../_images/ch6-image2.png" /></p>
</li>
<li><p>Set the following options:</p>
<ul class="simple">
<li><p><strong>GT Selection</strong> to <strong>HSDP1 GT</strong></p></li>
<li><p><strong>GT Refclk Selection</strong> to <strong>REFCLK1</strong></p></li>
<li><p><strong>GT Refclk Freq (MHz)</strong> to <strong>156.25</strong></p></li>
</ul>
<blockquote>
<div><p><strong><em>Note</em>:</strong> Line rate is fixed at 10.0 Gb/s.</p>
</div></blockquote>
</li>
<li><p>Click <strong>OK</strong> to save the changes. Two ports, <code class="docutils literal notranslate"><span class="pre">gt_refclk1</span></code> and <code class="docutils literal notranslate"><span class="pre">HSDP1_GT</span></code>, are created on the CIPS IP.</p></li>
<li><p>On the <strong>IP Integrator</strong> page, right-click <code class="docutils literal notranslate"><span class="pre">gt_refclk1</span></code> and select <strong>Make External</strong>. Do the same for <strong>HSDP1_GT</strong>.</p>
<p><img alt="../_images/ch6-image4.png" src="../_images/ch6-image4.png" /></p>
<p><img alt="../_images/ch6-image5.png" src="../_images/ch6-image5.png" /></p>
</li>
<li><p>Click <strong>Validate Design</strong>, then <strong>Save</strong>.</p></li>
</ol>
</div>
<div class="section" id="synthesizing-implementing-and-generating-the-device-image">
<h3>Synthesizing, Implementing, and Generating the Device Image<a class="headerlink" href="#synthesizing-implementing-and-generating-the-device-image" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>In the Flow Navigator, under <strong>Programming and Debug</strong>, click <strong>Generate Device Image</strong> to launch implementation.</p>
<p>When the device image generation completes, the Device Image Generation Completed dialog box opens.</p>
<p><img alt="../_images/ch6-image9.png" src="../_images/ch6-image9.png" /></p>
</li>
</ol>
</div>
<div class="section" id="exporting-hardware-xsa">
<h3>Exporting Hardware (XSA)<a class="headerlink" href="#exporting-hardware-xsa" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Select <strong>File → Export → Export Hardware</strong> from the Vivado toolbar. The Export Hardware dialog box opens.</p>
<p><img alt="../_images/ch6-image10.png" src="../_images/ch6-image10.png" /></p>
</li>
<li><p>Choose <strong>Fixed</strong>, then click <strong>Next</strong>.</p></li>
<li><p>Choose <strong>Include Device Image</strong>, then click <strong>Next</strong>.</p></li>
<li><p>Provide the name for your exported file (example: <code class="docutils literal notranslate"><span class="pre">edt_versal_wrapper_with_hsdp</span></code>). Click <strong>Next</strong>.</p></li>
<li><p>Click <strong>Finish</strong>.</p></li>
</ol>
</div>
</div>
<div class="section" id="creating-the-hsdp-enabled-linux-image-using-petalinux">
<h2>Creating the HSDP-enabled Linux Image Using PetaLinux<a class="headerlink" href="#creating-the-hsdp-enabled-linux-image-using-petalinux" title="Permalink to this headline">¶</a></h2>
<p>This example rebuilds the PetaLinux project using the HSDP-enabled XSA that was built in the preceding step. The assumption is that the PetaLinux project has been created as per the instructions in <a class="reference external" href="#5-system-design-example">System Design Example using Scalar Engine and Adaptable Engine</a>.</p>
<blockquote>
<div><p><strong>Important:</strong> If you are building this tutorial without having created a PetaLinux project in the preceding chapter, follow steps 1 through 12 in the <a class="reference external" href="./5-system-design-example.html#example-project-creating-Linux-images-using-PetaLinux">Example Project: Creating Linux Images Using PetaLinux</a> section to create a new PetaLinux project.</p>
</div></blockquote>
<p>This example needs a Linux host machine. Refer to the <a class="reference external" href="https://www.xilinx.com/member/versal_tools_ea.html#embedded">PetaLinux Tools Documentation Reference Guide (UG1144)</a> for information on dependencies and installation procedure for the PetaLinux tool.</p>
<ol>
<li><p>Change to the PetaLinux project directory that was created in <a class="reference external" href="./5-system-design-example.html#example-project-creating-Linux-images-using-PetaLinux">Example Project: Creating Linux Images Using PetaLinux</a> using the following command.</p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">cd</span> <span class="pre">led_example</span></code></p>
</li>
<li><p>Copy the new hardware platform project XSA to the Linux host machine one directory above the PetaLinux build root.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> Make sure that you are using the updated the XSA file which you generated in the prior step.</p>
</div></blockquote>
</li>
<li><p>Reconfigure the BSP using the following commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">petalinux</span><span class="o">-</span><span class="n">config</span> <span class="o">--</span><span class="n">get</span><span class="o">-</span><span class="n">hw</span><span class="o">-</span><span class="n">description</span><span class="o">=&lt;</span><span class="n">path</span> <span class="n">till</span> <span class="n">the</span> <span class="n">directory</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">respective</span> <span class="n">xsa</span> <span class="n">file</span><span class="o">&gt;</span>
</pre></div>
</div>
</li>
<li><p>Build the Linux images using the following command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ petalinux-build
</pre></div>
</div>
</li>
<li><p>Once the build completes, package the boot images with the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ petalinux-package --force --boot --atf --u-boot
</pre></div>
</div>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The packaged Linux boot images are placed in the <code class="docutils literal notranslate"><span class="pre">&lt;PetaLinux-project&gt;/images/Linux/</span></code> directory in the PetaLinux build root. Make a note of this directory location as it will be used in the following steps. If you intend to use a different machine than the one that was used to build PetaLinux (for example, a Windows Based PC) to download the Linux boot images using SmartLynq+, the contents of this directory should be transferred to that machine before proceeding with this tutorial.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="setting-up-the-smartlynq-module">
<h2>Setting Up the SmartLynq+ Module<a class="headerlink" href="#setting-up-the-smartlynq-module" title="Permalink to this headline">¶</a></h2>
<p>Once the Linux images have been built and packaged, they can be loaded onto the VCK190 or VMK180 board using either JTAG or HSDP. To set up the SmartLynq+ module for connectivity using HSDP, follow these steps:</p>
<ol>
<li><p>Connect the USB-C cable between the VCK190 USB-C connector and the SmartLynq+ module.</p>
<p><img alt="../_images/ch6-slp1.png" src="../_images/ch6-slp1.png" /></p>
</li>
<li><p>Connect the SmartLynq+ to either Ethernet or USB.</p>
<ul class="simple">
<li><p><strong>Using Ethernet:</strong> Connect an Ethernet cable between Ethernet port on the SmartLynq+ and your local area network.</p></li>
<li><p><strong>Using USB:</strong> Connect the provided USB cable between the USB port on the SmartLynq+ and your PC.</p></li>
</ul>
</li>
<li><p>Connect the power adapter to the SmartLynq+ and power on the VCK190/VMK180 board.</p></li>
<li><p>Once the SmartLynq+ finishes booting up, an IP address appears on the screen under either <code class="docutils literal notranslate"><span class="pre">eth0</span></code> or <code class="docutils literal notranslate"><span class="pre">usb0</span></code>. Make note of this IP address as this is the IP address used to connect to the SmartLynq+ in both the Ethernet and USB use case.</p>
<p><img alt="../_images/ch6-image23.jpg" src="../_images/ch6-image23.jpg" /></p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If using Ethernet, the SmartLynq+ acquires an IP address from a DHCP server found on the network. If using USB, the USB port has a fixed IP address of <code class="docutils literal notranslate"><span class="pre">10.0.0.2</span></code>.</p>
</div></blockquote>
</li>
<li><p>Copy the Linux download scripts from the design package <code class="docutils literal notranslate"><span class="pre">&lt;design-package&gt;/smartlynq_plus/xsdb</span></code>.</p></li>
</ol>
<div class="section" id="using-the-smartlynq-as-a-serial-terminal">
<h3>Using the SmartLynq+ as a Serial Terminal<a class="headerlink" href="#using-the-smartlynq-as-a-serial-terminal" title="Permalink to this headline">¶</a></h3>
<p>The SmartLynq+ can also be used as a serial terminal to remotely view the UART output from the VCK190. This feature is useful when physical access to the remote setup is not available. The SmartLynq+ module has the minicom application pre-installed, which can be used to connect directly to the UART on the VCK190.</p>
<ol>
<li><p>Using an SSH client such as <code class="docutils literal notranslate"><span class="pre">PuTTY</span></code> on Windows or <code class="docutils literal notranslate"><span class="pre">ssh</span></code> on Unix-based systems, connect using SSH to the IP address shown on the SmartLynq+ display.</p>
<ul class="simple">
<li><p>Username: <code class="docutils literal notranslate"><span class="pre">xilinx</span></code></p></li>
<li><p>Password: <code class="docutils literal notranslate"><span class="pre">xilinx</span></code></p></li>
</ul>
<p>For example, if your SmartLynq+ displays an IP address <code class="docutils literal notranslate"><span class="pre">192.168.0.10</span></code>, you should issue the following command: <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">xilinx&#64;192.168.0.10</span></code>.</p>
</li>
<li><p>By default, the minicom application uses the hardware flow control. To successfully connect to the UART on Xilinx boards, hardware flow control should be disabled as it is not used on the VCK190 UART. To do this, enter the minicom setup mode by issuing <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">minicom</span> <span class="pre">-s</span></code> and disabling the feature. Alternatively, issue the following command as root to modify the minicom default configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s2">&quot;pu rtscts No&quot;</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">tee</span> <span class="o">-</span><span class="n">a</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">minicom</span><span class="o">/</span><span class="n">minirc</span><span class="o">.</span><span class="n">dfl</span>
</pre></div>
</div>
</li>
<li><p>Finally, to connect to the VCK190/VMK180 serial terminal output do the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">minicom</span> <span class="o">--</span><span class="n">device</span> <span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ttyUSB1</span>
</pre></div>
</div>
</li>
<li><p>Leave this terminal open and proceed to the next section.</p>
<p><img alt="../_images/ch6-image15.png" src="../_images/ch6-image15.png" /></p>
</li>
</ol>
</div>
<div class="section" id="booting-linux-images-over-jtag-or-hsdp">
<h3>Booting Linux Images over JTAG or HSDP<a class="headerlink" href="#booting-linux-images-over-jtag-or-hsdp" title="Permalink to this headline">¶</a></h3>
<p>SmartLynq+ can be used to download Linux images directly to the VCK190/VMK180 without using an SD Card. Linux images can be loaded using JTAG or HSDP.</p>
<p>The design package included with this tutorial contains a script that downloads the Linux images created in the prior steps using the SmartLynq+ module. The script can use either JTAG or HSDP.</p>
<ol>
<li><p>On the machine with access to the SmartLynq+ module, open the Vivado tcl shell.</p>
<p><img alt="../_images/ch6-image24.png" src="../_images/ch6-image24.png" /></p>
</li>
<li><p>Change the working directory to the PetaLinux build root, if working on the machine used to build PetaLinux, or change to the location where the <code class="docutils literal notranslate"><span class="pre">images/Linux</span></code> directory was transferred to the local machine in the preceding steps.</p></li>
<li><p>At the Vivado tcl shell, issue the following command to download the images using HSDP:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsdb</span> <span class="n">Linux_download</span><span class="o">.</span><span class="n">tcl</span> <span class="o">&lt;</span><span class="n">smartlynq</span><span class="o">+</span> <span class="n">ip</span><span class="o">&gt;</span> <span class="n">images</span><span class="o">/</span><span class="n">Linux</span> <span class="n">HSDP</span>
</pre></div>
</div>
<p>This loads <code class="docutils literal notranslate"><span class="pre">BOOT.BIN</span></code> using JTAG, following which an HSDP link is auto-negotiated and the rest of the boot images are loaded using HSDP. This increases the speed substantially compared to JTAG.</p>
<p><img alt="../_images/ch6-image16.png" src="../_images/ch6-image16.png" /></p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> You can also download Linux images using JTAG by changing the last argument of the script to <code class="docutils literal notranslate"><span class="pre">FTDI-JTAG</span></code> as shown: <code class="docutils literal notranslate"><span class="pre">xsdb</span> <span class="pre">Linux-download</span> <span class="pre">&lt;smartlynq+</span> <span class="pre">ip&gt;</span> <span class="pre">images/Linux</span> <span class="pre">FTDI-JTAG</span></code>. This uses the JTAG to program all of the Linux boot images. Note the difference in download speed when using HSDP.</p>
</div></blockquote>
</li>
<li><p>Versal boot messages can be viewed from the VCK190 UART on the terminal opened in the preceding section:</p>
<p><img alt="../_images/ch6-image17.png" src="../_images/ch6-image17.png" /></p>
</li>
<li><p>Once Linux has completed booting using either JTAG or HSDP, you will be presented with the following login screen:</p>
<p><img alt="../_images/ch6-image18.png" src="../_images/ch6-image18.png" /></p>
</li>
</ol>
</div>
</div>
<div class="section" id="useful-links">
<h2>Useful Links<a class="headerlink" href="#useful-links" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>For more information on using PL hardware debug cores such as the AXIS-ILA, AXIS-VIO, PCIe™ Debugger, and/or DDRMC Calibration Interfaces refer to the <a class="reference external" href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2020_2/ug908-vivado-programming-debugging.pdf">UG908: Vivado Design Suite User Guide Programming and Debugging</a>.</p></li>
<li><p>For more information on the SmartLynq+ Module, refer to <a class="reference external" href="https://www.xilinx.com/support/documentation/boards_and_kits/smartlynq/ug1258-smartlynq-cable.pdf">SmartLynq+ Module User Guide</a>.</p></li>
</ul>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>In this section you have built a design that uses the HSDP, connected the SmartLynq+ module, configured the SmartLynq+ for remote UART access, and used the HSDP to download Linux images onto your board.</p>
<p>© Copyright 2020 Xilinx, Inc.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="A-creating-plm.html" class="btn btn-neutral float-right" title="Appendix: Creating the PLM" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="5-system-design-example.html" class="btn btn-neutral float-left" title="System Design Example using Scalar Engine and Adaptable Engine" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on January 04, 2021.
      </span>

    </p>
  </div>	  
      </div>
    </section>


  




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>     	    
	    
	    
  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>