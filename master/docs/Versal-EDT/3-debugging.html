


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>
    <script type="text/javascript" src="../_static/js/linkid.js"></script>
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search"
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a>
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a>
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search"
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> ENTER YOUR LIBRARY PROJECT NAME HERE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

      
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            
            
            
              
            
            
              <p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Embedded-Design-Tutorials/tree/master">Master</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../_sources/Versal-EDT/3-debugging.md.txt"
						rel="nofollow">Show Source</a></li>
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ENTER YOUR LIBRARY PROJECT NAME HERE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Debugging Using the Vitis Software Platform</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Versal-EDT/3-debugging.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="debugging-using-the-vitis-software-platform">
<h1>Debugging Using the Vitis Software Platform<a class="headerlink" href="#debugging-using-the-vitis-software-platform" title="Permalink to this headline">¶</a></h1>
<p>This chapter describes debugging possibilities with the design flow
you have already been working with. The first option is debugging
using the Xilinx® Vitis™ software platform.</p>
<p>The Vitis software platform debugger provides the following debug
capabilities:</p>
<ul class="simple">
<li><p>Supports debugging of programs on Arm® Cortex™-A72, Arm
Cortex-R5F, and MicroBlaze™ processor architectures
(heterogeneous multi-processor hardware system debugging).</p></li>
<li><p>Supports debugging of programs on hardware boards.</p></li>
<li><p>Supports debugging on remote hardware systems.</p></li>
<li><p>Provides a feature-rich IDE to debug programs.</p></li>
<li><p>Provides a tool command language (Tcl) interface for running test
scripts and automation.</p></li>
</ul>
<p>The Vitis software platform debugger enables you to see what is
happening to a program while it executes. You can set breakpoints or
watch points to stop the processor, step through program execution,
view the program variables and stack, and view the contents of the
memory in the system.</p>
<p>The Vitis software platform supports debugging through Xilinx system
debugger.</p>
<div class="section" id="xilinx-system-debugger">
<h2>Xilinx System Debugger<a class="headerlink" href="#xilinx-system-debugger" title="Permalink to this headline">¶</a></h2>
<p>The Xilinx® Vitis™ software platform debugger enables you to step
through your code line by line. You can set breakpoints or watchpoints
to stop the processor, step through program execution, view the
program variables and stack, and view the contents of the memory in
the system.</p>
<p>The debugger supports debugging through Single Application Debug and
GNU Debugger (GDB). The Xilinx customized system debugger is derived
from open-source tools and is integrated with the Vitis software
platform.</p>
<p>The Xilinx system debugger uses the Xilinx hw_server as the underlying
debug engine. The Vitis software platform translates each user
interface action into a sequence of target communication framework
(TCF) commands. It then processes the output from System Debugger to
display the current state of the program being debugged. It
communicates to the processor on the hardware using Xilinx hw_server.
The debug workflow is described in the following figure.</p>
<p><em>Figure 1:</em> <strong>System Debugger Flow</strong></p>
<p><img alt="../_images/quz1567060977342_LowRes.png" src="../_images/quz1567060977342_LowRes.png" /></p>
<p>The debug workflow is made up of the following components.</p>
<ul class="simple">
<li><p><strong>Executable ELF File:</strong> To debug your application, you must use an
elf file compiled for debugging. The debug elf file contains
additional debug information for the debugger to make direct
associations between the source code and the binaries generated
from that original source. To manage the build configurations,
right-click the software application and select <strong>Build
Configurations → Manage</strong>.</p></li>
<li><p><strong>Debug Configuration:</strong> To launch the debug session, you must
create a debug configuration in the Vitis software platform. This
configuration captures options required to start a debug session,
including the executable name, processor target to debug, and
other information. To create a debug configuration, right-click
your software application and select <strong>Debug As→ Debug
Configurations</strong>.</p></li>
<li><p><strong>The Vitis Software Platform Debug Perspective:</strong> Using the Debug
perspective, you can manage the debugging or running of a program
in the Workbench. You can control the execution of your program by
setting breakpoints, suspending launched programs, stepping
through your code and examining the contents of variables. To view
the <strong>Debug</strong> perspective select <strong>Window→ Open Perspective →
Debug</strong>.</p></li>
</ul>
<p>You can repeat the cycle of modifying the code, building the
executable, and debugging the program in the Vitis software platform.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If you edit the source after compiling, it changes the
line numbering as the debug information is linked directly to the
source. Similarly, debugging optimized binaries can also cause
unexpected jumps in the execution trace.</p>
</div></blockquote>
</div>
<div class="section" id="debugging-software-using-the-vitis-software-platform">
<h2>Debugging Software Using the Vitis Software Platform<a class="headerlink" href="#debugging-software-using-the-vitis-software-platform" title="Permalink to this headline">¶</a></h2>
<p>This example describes debugging a hello world application.</p>
<p>If you did not create a hello world application on APU or RPU, follow
the steps in
<a class="reference external" href="./2-cips-noc-ip-config.md#running-a-bare-metal-hello-world-application">Running a Bare-Metal Hello World Application</a> or <a class="reference external" href="./2-cips-noc-ip-config.md#running-a-bare-metal-hello-world-application-on-ddr-memory">Running a Bare-Metal Hello World Application on DDR Memory</a>.</p>
<p>After you create the Hello World Application, work through the
following example to debug the software using the Vitis™ software
platform.</p>
<ol>
<li><p>Right-click the application and click <strong>Build Project</strong> to build the
application.</p></li>
<li><p>Right-click the application project and select <strong>Debug As→ Launch on
Hardware (Single Application Debug)</strong> as shown in the following
figure.</p>
<p><img alt="../_images/image40.jpeg" src="../_images/image40.jpeg" /></p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The Debug perspective can also be launched by selecting
<strong>Window→ Debug Perspective</strong>.</p>
</div></blockquote>
<p><img alt="../_images/image41.jpeg" src="../_images/image41.jpeg" /></p>
<p><strong><em>Note</em>:</strong> The addresses shown on this page might slightly differ
from the addresses shown on your system.</p>
<p>The processor is currently sitting at the beginning of main() method
with program execution suspended at line 0x00000000fffc0cf0. You can
confirm this information in the Disassembly view, which shows the
assembly-level program execution also suspended at 0x00000000fffc0cf0.</p>
<p><strong><em>Note</em>:</strong> If the <strong>Disassembly</strong> view is not visible, select
<strong>Window→ Disassembly</strong>.</p>
</li>
<li><p>The helloworld.c window also shows execution suspended at the first
executable line of C code. Select the <strong>Registers</strong> view to
confirm that the program counter, pc register, contains
0x00000000fffc0cf0.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If the Registers view is not visible, select <strong>Window→
Registers</strong>.</p>
</div></blockquote>
</li>
<li><p>Double-click in the margin (to the left of the line numbers) of the
helloworld.c window next to the line of code that reads
printf(“Hello World from APU\n\r”);. This sets a breakpoint at
the printf command. To confirm the breakpoint, review the
Breakpoints view.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> If the Breakpoints view is not visible, select <strong>Window →
Breakpoints</strong>.</p>
</div></blockquote>
</li>
<li><p>Select <strong>Run → Step Into</strong> to step into the init_platform() routine.
Program execution suspends at location 0x00000000fffc0cf0. The
call stack is now two levels deep.</p></li>
<li><p>Select <strong>Run → Resume</strong> to continue running the program to the
breakpoint.</p>
<p>Program execution stops at the line of code that includes the printf
command. The <strong>Disassembly</strong> and <strong>Debug</strong> windows both show program
execution stopped at 0x00000000fffc0cf4.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The execution address in your debugging window might
differ if you modified the helloworld source code in any way.</p>
</div></blockquote>
</li>
<li><p>Select <strong>Run → Resume</strong> to run the program to conclusion.</p>
<p>When the program completes, the <strong>Debug</strong> window shows that the
program is suspended in a routine called <strong>exit</strong>. This happens when
you are running under control of the debugger.</p>
</li>
<li><p>Re-run your code several times. Experiment with single-stepping,
examining memory, breakpoints, modifying code, and adding print
statements. Try adding and moving views.</p>
<blockquote>
<div><p><strong>TIP:</strong> You can use the Vitis software platform debugging shortcuts
for step-into (F5), step-return (F7), step-over (F6), and resume (F8).
Alternatively, you can use the toolbar buttons.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="debugging-using-xsct">
<h2>Debugging Using XSCT<a class="headerlink" href="#debugging-using-xsct" title="Permalink to this headline">¶</a></h2>
<p>You can debug in the command line mode using XSDB, which is
encapsulated as a part of XSCT. This example describes debugging the
bare-metal application hello_world_r5 using XSCT.</p>
<p>The following steps indicate how to load a bare-metal application on
Arm Cortex-R5F using XSCT.</p>
<p>This example is just to demonstrate the command line debugging
possibility using XSDB/XSCT. Based on the requirement, you can choose
to debug the code using either the system debugger graphical interface
or the command line debugger in XSCT. All XSCT commands are scriptable
and this applies to the commands covered in this example.</p>
<div class="section" id="setting-up-target">
<h3>Setting Up Target<a class="headerlink" href="#setting-up-target" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Connect a USB cable between USB-JTAG connector on the target and the
USB port on the host machine.</p></li>
<li><p>Set the board in JTAG Boot mode,
where SW1 is set as shown in following figure.</p>
<p><img alt="../_images/image43.jpeg" src="../_images/image43.jpeg" /></p>
</li>
<li><p>Power on the board using the power switch SW13.</p></li>
<li><p>Click <strong>XSCT Console</strong> button in the Vitis software platform toolbar
to open the XSCT Console view. Alternatively, you can open the
XSCT Console view by clicking <strong>Xilinx → XSCT Console</strong>.</p>
<p><img alt="../_images/image44.jpeg" src="../_images/image44.jpeg" /></p>
</li>
<li><p>In the <strong>XSCT Console</strong> view, connect to the target over JTAG using
the connect command:</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">connect</span></code></p>
<p>The connect command returns the channel ID of the connection.</p>
</li>
<li><p>Load the pdi/bin file:</p>
<p><code class="docutils literal notranslate"><span class="pre">device</span> <span class="pre">program</span> <span class="pre">&lt;path</span> <span class="pre">to</span> <span class="pre">.pdi</span> <span class="pre">file&gt;</span></code></p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The PDI file can be found at
<code class="docutils literal notranslate"><span class="pre">C:\edt\edt_versal\edt_versal.runs\impl_1\edt_versal_wrapper.pdi</span></code>. In Windows, path names should be enclosed in braces, for example, {<code class="docutils literal notranslate"><span class="pre">C:\path\to\file.pdi</span></code>} to prevent the backslash being interpreted as an escape character. This is not necessary for Linux, which uses forward slashes.</p>
</div></blockquote>
</li>
</ol>
</div>
<div class="section" id="loading-the-application-using-xsct">
<h3>Loading the Application Using XSCT<a class="headerlink" href="#loading-the-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<p>Following are the steps to load the application using XSCT.</p>
<ol>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">targets</span></code>.</p>
<p>The targets command lists the available targets and allows you to
select a target through its ID. The targets are assigned IDs as they
are discovered on the JTAG chain, so the target IDs can change from
session to session.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> For non-interactive usage such as scripting, the -filter
option can be used to select a target instead of selecting the target
through its ID.</p>
</div></blockquote>
<p>The targets are listed as shown in the following figure.</p>
<p><img alt="../_images/image45.png" src="../_images/image45.png" /></p>
</li>
<li><p>Now download the hello_world_r5 application on the Arm® Cortex-R5F
Core 0.</p></li>
<li><p>Select RPU Cortex™-R5F Core 0 target ID.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span><span class="nv">xsct</span><span class="o">%</span> targets <span class="mi">3</span>
<span class="nv">xsct</span><span class="o">%</span> rst <span class="o">-</span>processor
</pre></div>
</div>
<p>The command rst -processor clears the reset on an individual processor
core. This step is important because when the Versal™ ACAP boots up
the JTAG boot mode, all the Cortex- A72 and Cortex-R5F cores are held
in reset. You must clear the resets on each core, before debugging on
these cores. The rst command in XSDB can be used to clear the resets.</p>
<blockquote>
<div><p><strong><em>Note</em>:</strong> The command rst -cores clears resets on all the processor
cores in the group (such as APU or RPU) of which the current target is
a child. For example, when Cortex-A72 #0 is the current target, rst
-cores clears resets on all the Cortex-A72 cores in APU.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">dow</span> <span class="pre">{C:\edt\edt_vck190\helloworld_r5\Debug\helloworld_r5.elf}</span></code></p>
<p>or</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">dow</span> <span class="pre">C:/edt/edt_vck190/helloworld_r5/Debug/helloworld_r5.elf</span></code></p>
<p>At this point, you can see the sections from the elf file downloaded
sequentially. The XSCT prompt can be seen after a successful download.
Now, configure a serial terminal (Tera Term, Mini com, or the Vitis
software platform Serial Terminal interface for UART-0 USB-serial
connection).</p>
</li>
</ol>
</div>
<div class="section" id="serial-terminal-configuration">
<h3>Serial Terminal Configuration<a class="headerlink" href="#serial-terminal-configuration" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Start a terminal session, using Tera Term or Mini com depending on
the host machine being used, and the COM port and baud rate as
shown in following figure.</p>
<p><img alt="../_images/image46.png" src="../_images/image46.png" /></p>
</li>
<li><p>For port settings, verify the COM port in the device manager. There
are three USB UART interfaces exposed by the VCK190 board. Select
the COM port associated with the interface with the lowest number.
So in this case, for UART-0, select the com-port with interface-0.</p></li>
</ol>
</div>
<div class="section" id="running-and-debugging-application-using-xsct">
<h3>Running and Debugging Application Using XSCT<a class="headerlink" href="#running-and-debugging-application-using-xsct" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Before you run the application, set a breakpoint at <code class="docutils literal notranslate"><span class="pre">main()</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">bpadd</span> <span class="pre">-addr</span> <span class="pre">&amp;main</span></code></p>
<p>This command returns the breakpoint ID. You can verify the breakpoints planted using command bplist. For more details on breakpoints in XSCT, type <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">breakpoint</span></code> in XSCT.</p>
</li>
<li><p>Resume the processor core.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">con</span></code></p>
<p>The following message is displayed when the core hits the breakpoint.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">Info:</span> <span class="pre">Cortex-R5</span> <span class="pre">\#0</span> <span class="pre">Stopped</span> <span class="pre">at</span> <span class="pre">0x10021C</span> <span class="pre">(Breakpoint)</span></code></p>
</li>
<li><p>At this point, you can view registers when the core is stopped.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">rrd</span></code></p>
</li>
<li><p>View local variables.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">locals</span></code></p>
</li>
<li><p>Step over a line of the source code and view the stack trace.</p>
<div class="highlight-tcl notranslate"><div class="highlight"><pre><span></span>xsct% nxt
Info: Cortex-R5 #0 Stopped at 0x100490 (Step)
xsct% bt
</pre></div>
</div>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span></code> command to find other options.</p>
<p><img alt="../_images/image47.png" src="../_images/image47.png" />}</p>
<p>You can use the <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">running</span></code> command to get a list of possible options
for running or debugging an application using XSCT.</p>
<p><img alt="../_images/image48.png" src="../_images/image48.png" /></p>
</li>
<li><p>You can now run the code.</p>
<p><code class="docutils literal notranslate"><span class="pre">xsct%</span> <span class="pre">con</span></code></p>
<p>At this point, you can see the Cortex-R5F application print messages on the
UART-0 terminal.</p>
</li>
</ol>
<p>© Copyright 2020 Xilinx, Inc.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>


	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on December 03, 2020.
      </span>

    </p>
	<br>
  </div>
      </div>
    </section>


  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>


  
  
    
  



  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
                  <!-- make footer fixed - NileshP -->
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
                  <!-- make footer fixed NileshP-->
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}

			underscoreSetup();
		</script>
	</body>
</html>