<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
  <title>Versal Dhrystone Benchmark User Guide &mdash; Embedded Design Tutorials 2022.2 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="prev" title="Performance Checklist" href="../../SPA-UG/docs/A-performance-checklist.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../../index.html" class="icon icon-home"> Embedded Design Tutorials
            <img src="../../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2022.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">简体中文</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-cn/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">日本語</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/master/docs-jp/index.html">Master</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Introduction/Versal-EDT/Versal-EDT.html">Versal ACAP Embedded Design Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Introduction/ZynqMPSoC-EDT/ZynqMPSoC-EDT.html">Zynq UltraScale+ MPSoC Embedded Design Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Introduction/Zynq7000-EDT/Zynq7000-EDT.html">Zynq-7000 Embedded Design Tutorial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Feature Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Feature_Tutorials/debuggable-fsbl/debuggable-fsbl.html">First Stage Boot Loader (FSBL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Feature_Tutorials/microblaze-system/README.html">Programming an Embedded MicroBlaze Processor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Feature_Tutorials/sw-profiling/sw-profiling.html">Profiling Applications with System Debugger</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Design Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Design_Tutorials/MPSoC_Graphic_Subsystem/README.html">Example Setup for a Graphics and DisplayPort Based Sub-System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Debugging</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Vitis-Embedded-Software-Debugging/Debugging.html">Vitis Embedded Software Debugging Guide (UG1515) 2021.1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../SPA-UG/SPA-UG.html">System Performance Analysis</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Versal Dhrystone Benchmark</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#table-of-contents">Table of Contents</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#objectives">Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directory-structure">Directory Structure</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#prerequisites">Prerequisites</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tutorial-requirements">Tutorial Requirements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware-requirements">Hardware Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software-requirements">Software Requirements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#build-the-tutorial-design">Build the Tutorial Design</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hardware-design-details">Hardware Design Details</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#apu-clock-configuration">APU Clock Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#noc-interfaces-details">NoC Interfaces Details</a></li>
<li class="toctree-l4"><a class="reference internal" href="#noc-inputs">NoC Inputs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#noc-port-connectivity">NoC Port Connectivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ddr-configurations">DDR Configurations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ddr-memory-options">DDR Memory Options</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#create-a-new-application-project-for-dhrystone">Create a New Application Project for Dhrystone</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#create-and-browse-to-the-workspace">Create and Browse to the Workspace</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-the-application-project">Create the Application Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-hardware-description-file">Add Hardware Description File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-dhrystone-application">Create Dhrystone application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#set-domain-configuration">Set Domain Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-empty-application-template">Create Empty Application Template</a></li>
<li class="toctree-l4"><a class="reference internal" href="#import-dhrystone-source-code">Import Dhrystone Source Code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#build-dhrystone-application">Build Dhrystone Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-optimization-level">Set Optimization Level</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-debug-level">Set Debug Level</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-the-project">Build the Project</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-dhrystone-application">Run the Dhrystone Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#performance-calculation">Performance Calculation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#support">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#license">License</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">All Releases</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2022.1/build/html/index.html">2022.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2021.2/build/html/index.html">2021.2</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2021.1/build/html/index.html">2021.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Embedded-Design-Tutorials/docs/2020.2/build/html/index.html">2020.2</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Embedded Design Tutorials</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Versal Dhrystone Benchmark User Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/docs/User_Guides/Performance_Benchmark/Dhrystone/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="versal-dhrystone-benchmark-user-guide">
<h1>Versal Dhrystone Benchmark User Guide<a class="headerlink" href="#versal-dhrystone-benchmark-user-guide" title="Permalink to this heading">¶</a></h1>
<section id="table-of-contents">
<h2>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="#introduction">Introduction</a></p></li>
<li><p><a class="reference external" href="#before-you-begin">Prerequisites</a></p></li>
<li><p><a class="reference external" href="#tutorial-requirements">Tutorial Requirements</a></p></li>
<li><p><a class="reference external" href="#build-tutorial-design">Build Tutorial Design</a></p></li>
<li><p><a class="reference external" href="#create-new-application-project-for-dhrystone">Create New Application Project for Dhrystone</a></p></li>
<li><p><a class="reference external" href="#build-dhrystone-application">Build Dhrystone Application</a></p></li>
<li><p><a class="reference external" href="#run-the-dhrystone-application">Run Dhrystone Application</a></p></li>
<li><p><a class="reference external" href="#performance-calculation">Performance Calculation</a></p></li>
</ul>
</section>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>Versal™ ACAP combines adaptable processing and acceleration engines with programmable logic and configurable connectivity to enable custom, heterogeneous hardware solutions for a wide variety of applications in data center, automotive, 5G wireless, wired network, and defense.</p>
<p>This tutorial provides step-by-step instructions for generating a reference design for the Dhrystone benchmark and building and running the Dhrystone application.</p>
<section id="objectives">
<h3>Objectives<a class="headerlink" href="#objectives" title="Permalink to this heading">¶</a></h3>
<p>After completing this tutorial, users can:</p>
<ul class="simple">
<li><p>Generate programmable device image (PDI) for tutorial design.</p></li>
<li><p>Build a Dhrystone application and execute it on the VCK190 evaluation kit.</p></li>
<li><p>Calculate Dhrystone performance number.</p></li>
</ul>
</section>
<section id="directory-structure">
<h3>Directory Structure<a class="headerlink" href="#directory-structure" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.
└── Dhrystone
    ├── Design.......................Contains Vivado design scripts
    │   ├── design.tcl..................................Generates reference design PDI/XSA
    │   └── run.tcl.....................................Top tcl for project setup, calls design.tcl
    ├── Images.......................Contains images that appear in README.md
    │   ├── apu_clock_configuration.png.................APU clock configuration
    │   ├── axi_noc_0_configuration_ddr_basic.png.......DDR basic configuration
    │   ├── axi_noc_0_connectivity.png..................NoC0 connectivity
    │   ├── axi_noc_0_ddr_configuration.png.............DDR memory configuration
    │   ├── axi_noc_0_general.png.......................NoC0 general configuration
    │   ├── axi_noc_0_inputs.png........................NoC0 input clock configuration
    │   ├── browse_and_add_xsa.png......................Add XSA
    │   ├── browse_import_source_code_finish.png........Complete importing source code
    │   ├── build_complete.png..........................Build complete
    │   ├── build_project.png...........................Build project
    │   ├── configure_domain_settings.png...............Domain settings
    │   ├── create_a_new_application_project.png........Start new application project
    │   ├── create_application_project.png..............Create new application
    │   ├── create_empty_application_template.png.......Create application template
    │   ├── create_hardware_description.png.............Hardware description window
    │   ├── debug_level_none.png........................Add debug level
    │   ├── download_and_run_dhrystone_application.png..Download and run Dhrystone application
    │   ├── expand_and_view_source_files.png............Browse and view source code
    │   ├── import_source_code.png......................Import source code
    │   ├── launch_xsct_and_connect_board.png...........Launch XSCT and connect to board
    │   ├── name_new_application_project.png............Added new application
    │   ├── optimization_optimize_most_O3.png...........Add optimization level
    │   ├── optimization_properties.png.................Go to optimization properties
    │   ├── processor_cips_block_diagram.png............CIPS block diagram
    │   ├── program_pdi.png.............................Load the PDI over JTAG
    │   ├── project_template.png........................Added project template
    │   ├── select_a72_0_target_and_reset.png...........Select A72_0 and Reset
    │   ├── source_run_tcl.png..........................Source run.tcl in Vivado
    │   ├── vck190_sw1_jtag_bootmode.png................VCK190 JTAG boot mode settings on SW1
    │   └── vck190_targets_list.png.....................List the VCK190 targets
    ├── README.md....................Includes tutorial overview
    └── Source_code..................Source code for Dhrystone application
        ├── dhry_1.c
        ├── dhry_2.c
        ├── dhry.h
        ├── LICENSE
        └── README.md
</pre></div>
</div>
</section>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">¶</a></h2>
<p>Recommended general knowledge of:</p>
<ul class="simple">
<li><p>VCK190 evaluation board</p></li>
<li><p>Versal JTAG boot mode</p></li>
<li><p>Xilinx® Vivado® Design Suite</p></li>
<li><p>Vitis™ Unified Software Platform Tool</p></li>
</ul>
<p>Key Versal reference documents</p>
<ul class="simple">
<li><p>VCK190 Evaluation Board User Guide <a class="reference external" href="https://www.xilinx.com/support/documentation/boards_and_kits/vck190/ug1366-vck190-eval-bd.pdf">(UG1366)</a></p></li>
<li><p>Versal ACAP Technical Reference Manual <a class="reference external" href="https://www.xilinx.com/support/documentation/architecture-manuals/am011-versal-acap-trm.pdf">(AM011)</a></p></li>
<li><p>Versal ACAP System Software Developers Guide <a class="reference external" href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2021_1/ug1304-versal-acap-ssdg.pdf">(UG1304)</a></p></li>
<li><p>Control Interfaces and Processing System v3.0 (CIPS) <a class="reference external" href="https://www.xilinx.com/support/documentation/ip_documentation/versal_cips/v3_0/pg352-cips.pdf">(PG352)</a></p></li>
</ul>
<p>Key Dhrystone documents</p>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.arm.com/documentation/dai0273/a/">Dhrystone Benchmarking for ARM® Cortex® Processors</a></p></li>
<li><p><a class="reference external" href="https://www.eembc.org/techlit/datasheets/dhrystone_wp.pdf">Dhrystone Benchmark</a></p></li>
</ul>
<section id="tutorial-requirements">
<h3>Tutorial Requirements<a class="headerlink" href="#tutorial-requirements" title="Permalink to this heading">¶</a></h3>
<p>This tutorial is demonstrated on the VCK190 evaluation kit. Install the necessary licenses for Vivado, Vitis, and XSCT/XSDB tools. Contact your Xilinx sales representative for any assistance. For more information, see <a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/vck190.html">https://www.xilinx.com/products/boards-and-kits/vck190.html</a>.</p>
<section id="hardware-requirements">
<h4>Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this heading">¶</a></h4>
<ul class="simple">
<li><p>A host machine with an operating system supported by Vivado Design Suite, Vitis tool, and XSCT/XSDB.</p></li>
<li><p>VCK190 EV2 evaluation board with:</p>
<ul>
<li><p>Versal ACAP EK-VCK190-G-ED.</p></li>
<li><p>AC power adapter (100-240VAC input, 12VDC 15.0A output).</p></li>
<li><p>System controller microSD card in the socket (J302).</p></li>
<li><p>USB Type-C cable (for JTAG and UART communications).</p></li>
</ul>
</li>
</ul>
</section>
<section id="software-requirements">
<h4>Software Requirements<a class="headerlink" href="#software-requirements" title="Permalink to this heading">¶</a></h4>
<p>The following tools are necessary to build the tutorial design and execute the Dhrystone application:</p>
<ul class="simple">
<li><p>Vivado Design Suite and Vitis tool</p>
<ul>
<li><p>For the latest tool version details, see <a class="reference external" href="https://www.xilinx.com/support/download.html">https://www.xilinx.com/support/download.html</a>.</p></li>
<li><p>For more information on installation, see <a class="reference external" href="https://www.xilinx.com/support/documentation/sw_manuals/xilinx2020_2/ug1400-vitis-embedded.pdf">UG1400 Vitis Unified Software Platform Embedded Software Development</a>.</p></li>
</ul>
</li>
<li><p>The <a class="reference external" href="#build-tutorial-design">Build Tutorial Design</a> section of this document provides the scripts to create the tutorial design.</p></li>
<li><p>UART serial terminal recommended:</p>
<ul>
<li><p>Vitis serial terminal or a terminal emulator program for UART (Putty or Tera Term) can be used to display the valuable PLM log boot status and the Dhrystone Benchmark logs.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="build-the-tutorial-design">
<h2>Build the Tutorial Design<a class="headerlink" href="#build-the-tutorial-design" title="Permalink to this heading">¶</a></h2>
<p>Follow these steps to build the Dhrystone Benchmark design and create the PDI/XSA.</p>
<ol>
<li><p>Copy the Design directory and files to a local project directory. The following is a snippet of the top-level directory: <code class="docutils literal notranslate"><span class="pre">Performance_Benchmark/Dhrystone/</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>└── Dhrystone
    ├── Design
    │   ├── design.tcl
    │ └── run.tcl
</pre></div>
</div>
</li>
<li><p>Launch Vivado Design Suite.</p></li>
<li><p>In the Vivado Tcl console, cd to the tutorial directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/&lt;</span><span class="n">Path</span> <span class="n">to</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Design</span><span class="o">/</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</li>
<li><p>Source <a class="reference external" href="./Design/run.tcl"><code class="docutils literal notranslate"><span class="pre">run.tcl</span></code></a> from the tutorial directory.</p>
<p><img alt="Alt Text" src="../../../../_images/source_run_tcl.png" /></p>
<p>Sourcing the <a class="reference external" href="./Design/run.tcl"><code class="docutils literal notranslate"><span class="pre">run.tcl</span></code></a> script does the following:</p>
<ul class="simple">
<li><p>Creates a project directory</p></li>
<li><p>Sources and runs the <a class="reference external" href="./Design/design.tcl"><code class="docutils literal notranslate"><span class="pre">design.tcl</span></code></a>, which in turn does the following:</p>
<ul>
<li><p>Selects the target Versal VC1902 device</p></li>
<li><p>Creates IPs and ports</p></li>
<li><p>Creates blocks</p></li>
<li><p>Configures and connects IP (Control, interfaces, and processing system (CIPS), Smartconnect)</p></li>
<li><p>Runs placement and routing</p></li>
<li><p>Creates a programmable device image (PDI) and Xilinx Support Archive (XSA).</p></li>
</ul>
</li>
</ul>
<p>You can find PDI and XSA at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PDI</span> <span class="o">-</span> <span class="o">/&lt;</span><span class="n">path</span> <span class="k">for</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Design</span><span class="o">/</span><span class="n">runs</span><span class="o">/</span><span class="n">dperf_</span><span class="o">&lt;*&gt;/</span><span class="n">dhrystone_tutorial</span><span class="o">.</span><span class="n">runs</span><span class="o">/</span><span class="n">impl_1</span><span class="o">/</span><span class="n">dhrystone_perf_wrapper</span><span class="o">.</span><span class="n">pdi</span>
<span class="n">XSA</span> <span class="o">-</span> <span class="o">/&lt;</span><span class="n">path</span> <span class="k">for</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Design</span><span class="o">/</span><span class="n">dhrystone_tutorial</span><span class="o">.</span><span class="n">xsa</span>
</pre></div>
</div>
</li>
</ol>
<section id="hardware-design-details">
<h3>Hardware Design Details<a class="headerlink" href="#hardware-design-details" title="Permalink to this heading">¶</a></h3>
<p>The tutorial design creates a block design with CIPS-IP and NoC IP upon sourcing the <a class="reference external" href="./Design/run.tcl"><code class="docutils literal notranslate"><span class="pre">run.tcl</span></code></a> script. The following image shows the details of the IP configuration.</p>
<p><img alt="Alt Text" src="../../../../_images/processor_cips_block_diagram.png" /></p>
<section id="apu-clock-configuration">
<h4>APU Clock Configuration<a class="headerlink" href="#apu-clock-configuration" title="Permalink to this heading">¶</a></h4>
<p><img alt="Alt Text" src="../../../../_images/apu_clock_configuration.png" /></p>
</section>
<section id="noc-interfaces-details">
<h4>NoC Interfaces Details<a class="headerlink" href="#noc-interfaces-details" title="Permalink to this heading">¶</a></h4>
<p><img alt="Alt Text" src="../../../../_images/axi_noc_0_general.png" /></p>
</section>
<section id="noc-inputs">
<h4>NoC Inputs<a class="headerlink" href="#noc-inputs" title="Permalink to this heading">¶</a></h4>
<p><img alt="Alt Text" src="../../../../_images/axi_noc_0_inputs.png" /></p>
</section>
<section id="noc-port-connectivity">
<h4>NoC Port Connectivity<a class="headerlink" href="#noc-port-connectivity" title="Permalink to this heading">¶</a></h4>
<p><img alt="Alt Text" src="../../../../_images/axi_noc_0_connectivity.png" /></p>
</section>
<section id="ddr-configurations">
<h4>DDR Configurations<a class="headerlink" href="#ddr-configurations" title="Permalink to this heading">¶</a></h4>
<p><img alt="Alt Text" src="../../../../_images/axi_noc_0_configuration_ddr_basic.png" /></p>
</section>
<section id="ddr-memory-options">
<h4>DDR Memory Options<a class="headerlink" href="#ddr-memory-options" title="Permalink to this heading">¶</a></h4>
<p><img alt="Alt Text" src="../../../../_images/axi_noc_0_ddr_configuration.png" /></p>
</section>
</section>
</section>
<section id="create-a-new-application-project-for-dhrystone">
<h2>Create a New Application Project for Dhrystone<a class="headerlink" href="#create-a-new-application-project-for-dhrystone" title="Permalink to this heading">¶</a></h2>
<section id="create-and-browse-to-the-workspace">
<h3>Create and Browse to the Workspace<a class="headerlink" href="#create-and-browse-to-the-workspace" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>Create a workspace and launch the Vitis tool.</p></li>
<li><p>Browse to the workspace.</p></li>
<li><p>Click <strong>Launch</strong> to open the VITIS IDE wizard.</p></li>
<li><p>Browse to <code class="docutils literal notranslate"><span class="pre">/&lt;path</span> <span class="pre">for</span> <span class="pre">workspace&gt;/Performance_Benchmark/Dhrystone/</span></code>.</p>
<p><img alt="Alt Text" src="../../../../_images/vitis_ide_launcher.png" /></p>
</li>
</ol>
</section>
<section id="create-the-application-project">
<h3>Create the Application Project<a class="headerlink" href="#create-the-application-project" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>Select <strong>File-&gt;New-&gt;Application Project</strong> from the menu. Alternatively, you can create the project by clicking <strong>Create Application Project</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/create_application_project.png" /></p>
</li>
<li><p>On the New Application Project wizard, click <strong>Next</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/create_a_new_application_project.png" /></p>
</li>
</ol>
</section>
<section id="add-hardware-description-file">
<h3>Add Hardware Description File<a class="headerlink" href="#add-hardware-description-file" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>To add the hardware description file (XSA), select <strong>Create a new platform from hardware (XSA)</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/create_hardware_description.png" /></p>
</li>
<li><p>Browse to the XSA file and click <strong>Next</strong> to open the New Application Project wizard.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/&lt;</span><span class="n">path</span> <span class="k">for</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Design</span><span class="o">/</span><span class="n">dhrystone_tutorial</span><span class="o">.</span><span class="n">xsa</span>
</pre></div>
</div>
<p><img alt="Alt Text" src="../../../../_images/browse_and_add_xsa.png" /></p>
</li>
</ol>
</section>
<section id="create-dhrystone-application">
<h3>Create Dhrystone application<a class="headerlink" href="#create-dhrystone-application" title="Permalink to this heading">¶</a></h3>
<section id="set-domain-configuration">
<h4>Set Domain Configuration<a class="headerlink" href="#set-domain-configuration" title="Permalink to this heading">¶</a></h4>
<ol>
<li><p>For the <strong>Application project name</strong>, enter <strong>Dhrystone</strong>.</p></li>
<li><p>Select the <strong>psv_cortexa72_0</strong> processor, and click <strong>Next</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/name_new_application_project.png" /></p>
</li>
<li><p>Select the domain details and then click <strong>Next</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/configure_domain_settings.png" /></p>
</li>
</ol>
</section>
<section id="create-empty-application-template">
<h4>Create Empty Application Template<a class="headerlink" href="#create-empty-application-template" title="Permalink to this heading">¶</a></h4>
<ol>
<li><p>Select the Empty Application template (blank c project) for Dhrystone application.</p></li>
<li><p>Click <strong>Finish</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/create_empty_application_template.png" /></p>
<p>After creating the project, the application project template looks as shown in the following image.</p>
<p><img alt="Alt Text" src="../../../../_images/project_template.png" /></p>
</li>
</ol>
</section>
<section id="import-dhrystone-source-code">
<h4>Import Dhrystone Source Code<a class="headerlink" href="#import-dhrystone-source-code" title="Permalink to this heading">¶</a></h4>
<ol>
<li><p>To import the Dhrystone source code to the project, right-click <strong>src-&gt;import sources</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/import_source_code.png" /></p>
</li>
<li><p>Browse to the source path <code class="docutils literal notranslate"><span class="pre">/&lt;Path</span> <span class="pre">to</span> <span class="pre">workspace&gt;/Performance_Benchmark/Dhrystone/Source_code/</span></code></p></li>
<li><p>Select all the source files and click <strong>Finish</strong> to import.</p></li>
<li><p>Click <strong>Yes to All</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/browse_import_source_code_finish.png" /></p>
<p>All the source files are imported, as shown in the following image.</p>
<p><img alt="Alt Text" src="../../../../_images/expand_and_view_source_files.png" /></p>
</li>
</ol>
</section>
</section>
</section>
<section id="build-dhrystone-application">
<h2>Build Dhrystone Application<a class="headerlink" href="#build-dhrystone-application" title="Permalink to this heading">¶</a></h2>
<section id="set-optimization-level">
<h3>Set Optimization Level<a class="headerlink" href="#set-optimization-level" title="Permalink to this heading">¶</a></h3>
<p><strong>Note</strong>: Add the optimization Level <strong>-O3</strong>  and <strong>-fno-common</strong> for better performance.</p>
<ol>
<li><p>Right-click the Dhrystone project and click <strong>Properties</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/optimization_properties.png" /></p>
</li>
<li><p>Expand  <strong>C/C++ Build</strong> and click  <strong>Settings</strong>.</p></li>
<li><p>Click <strong>Optimization</strong>, and then select the Optimization Level <strong>-03</strong>.</p></li>
<li><p>Add <strong>-fno-common</strong> in the Other optimization flags.</p>
<p><img alt="Alt Text" src="../../../../_images/optimization_optimize_most_O3.png" /></p>
</li>
</ol>
</section>
<section id="set-debug-level">
<h3>Set Debug Level<a class="headerlink" href="#set-debug-level" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>Navigate to <strong>Properties-&gt;C/C++Build-&gt;Settings-&gt;Debugging</strong>.</p></li>
<li><p>Select <strong>Debug Level</strong> as <strong>None</strong>.</p></li>
<li><p>Click <strong>Apply</strong> and <strong>Close</strong> and build the project.</p>
<p><img alt="Alt Text" src="../../../../_images/debug_level_none.png" /></p>
</li>
</ol>
</section>
<section id="build-the-project">
<h3>Build the Project<a class="headerlink" href="#build-the-project" title="Permalink to this heading">¶</a></h3>
<ol>
<li><p>Right-click the project name, and then click  <strong>Build Project</strong>. Alternatively, navigate to the Project menu and click <strong>Build Project</strong>.</p>
<p><img alt="Alt Text" src="../../../../_images/build_project.png" /></p>
<p>After the build is over, the executable is generated.</p>
</li>
<li><p>Verify the build logs in the console.</p>
<p><img alt="Alt Text" src="../../../../_images/build_complete.png" /></p>
<p>For executable file path:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/&lt;</span><span class="n">path</span> <span class="k">for</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Dhrystone_Benchmark</span><span class="o">/</span><span class="n">Debug</span><span class="o">/</span><span class="n">Dhrystone_Benchmark</span><span class="o">.</span><span class="n">elf</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="run-the-dhrystone-application">
<h2>Run the Dhrystone Application<a class="headerlink" href="#run-the-dhrystone-application" title="Permalink to this heading">¶</a></h2>
<ol>
<li><p>Insert the SD card with the system controller image into the System controller boot mode to SD1 (SW11 = 0111).</p></li>
<li><p>On the host machine, connect the USB Type-C cable into the VCK190 Board USB Type-C port (J207) and the other end into an open USB port.</p></li>
<li><p>Configure the board to boot in JTAG mode by setting switch SW1 = 0000 as shown in the following image.</p>
<p><img alt="Alt Text" src="../../../../_images/vck190_sw1_jtag_bootmode.png" /></p>
</li>
<li><p>Connect 180W(12V) power to the VCK190 6-Pin Molex connector(J16).</p></li>
<li><p>Power on the VCK190 board using the power switch (SW13).</p></li>
<li><p>Open the serial port in Tera Term/Putty and set baud rate(115200) for logs.</p></li>
<li><p>Go to Vitis command prompt, run <code class="docutils literal notranslate"><span class="pre">xsdb</span></code> or <code class="docutils literal notranslate"><span class="pre">xsct</span></code> commands.
<strong>Note:</strong> Refer Vivado/Vitis installation paths for this tools.</p></li>
<li><p>Run the <code class="docutils literal notranslate"><span class="pre">connect</span></code> command to launch hw_server.</p>
<p><img alt="Alt Text" src="../../../../_images/launch_xsct_and_connect_board.png" /></p>
</li>
<li><p>List the targets by running the <code class="docutils literal notranslate"><span class="pre">targets</span></code> command.</p>
<p><img alt="Alt Text" src="../../../../_images/vck190_targets_list.png" /></p>
</li>
<li><p>Program the design.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">device</span> <span class="n">program</span> <span class="o">/&lt;</span><span class="n">path</span> <span class="k">for</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Design</span><span class="o">/</span><span class="n">runs</span><span class="o">/</span><span class="n">dperf_</span><span class="o">&lt;*&gt;/</span><span class="n">dhrystone_tutorial</span><span class="o">.</span><span class="n">runs</span><span class="o">/</span><span class="n">impl_1</span><span class="o">/</span><span class="n">dhrystone_perf_wrapper</span><span class="o">.</span><span class="n">pdi</span>
</pre></div>
</div>
<p><img alt="Alt Text" src="../../../../_images/program_pdi.png" /></p>
</li>
<li><p>Select the A72_0 target and reset.</p>
<div class="highlight-xsct% target -set -filter {name =~ &quot;*A72*#0&quot;} notranslate"><div class="highlight"><pre><span></span>xsct% rst -processor -skip-activate-subsystem
</pre></div>
</div>
<p><img alt="Alt Text" src="../../../../_images/select_a72_0_target_and_reset.png" /></p>
</li>
<li><p>Download and run the Dhrystone benchmark application.</p>
<p>Before executing Dhrystone Benchmark, see <strong>4 Running Dhrystone section</strong> of the Dhrystone Benchmarking for ARM Cortex Processors- <a class="reference external" href="https://developer.arm.com/documentation/dai0273/a/">https://developer.arm.com/documentation/dai0273/a/</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xsct</span><span class="o">%</span> <span class="n">dow</span> <span class="o">-</span><span class="n">force</span> <span class="o">/&lt;</span><span class="n">path</span> <span class="k">for</span> <span class="n">workspace</span><span class="o">&gt;/</span><span class="n">Performance_Benchmark</span><span class="o">/</span><span class="n">Dhrystone</span><span class="o">/</span><span class="n">Dhrystone_Benchmark</span><span class="o">/</span><span class="n">Debug</span><span class="o">/</span><span class="n">Dhrystone_Benchmark</span><span class="o">.</span><span class="n">elf</span>
<span class="n">xsct</span><span class="o">%</span> <span class="n">con</span>
</pre></div>
</div>
<p><img alt="Alt Text" src="../../../../_images/download_and_run_dhrystone_application.png" /></p>
<p>For performance number calculation, use the Dhrystones per second value from the last UART log print (highlighted in the previous image).</p>
</li>
</ol>
</section>
<section id="performance-calculation">
<h2>Performance Calculation<a class="headerlink" href="#performance-calculation" title="Permalink to this heading">¶</a></h2>
<p>Calculate DMIPS (Dhrystone MIPS) number by using the following formula:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DMIPS</span> <span class="o">=</span> <span class="n">Dhrystones</span> <span class="n">per</span> <span class="n">second</span> <span class="o">/</span> <span class="mi">1757</span>
      <span class="o">=</span> <span class="mi">14285565</span><span class="o">/</span><span class="mi">1757</span>
      <span class="o">=</span> <span class="mf">8130.6573</span>

<span class="n">A</span> <span class="n">more</span> <span class="n">commonly</span> <span class="n">reported</span> <span class="n">figure</span> <span class="ow">is</span> <span class="n">DMIPS</span> <span class="o">/</span> <span class="n">MHz</span><span class="p">,</span> <span class="n">where</span> <span class="n">MHz</span> <span class="ow">is</span> <span class="n">CPU</span> <span class="n">Frequency</span>
      <span class="n">i</span><span class="o">.</span><span class="n">e</span> <span class="mf">8130.6573</span><span class="o">/</span><span class="mi">1400</span> <span class="o">=</span>  <span class="mf">5.80</span>
</pre></div>
</div>
<p><strong>Note:</strong></p>
<ol class="simple">
<li><p>For more details on the formula, see <strong>5 Measurement characteristics</strong> of Dhrystone Benchmarking for ARM Cortex Processors - <a class="reference external" href="https://developer.arm.com/documentation/dai0273/a/">https://developer.arm.com/documentation/dai0273/a/</a></p></li>
<li><p>For CPU Frequency configured in design, see the <strong>APU clock configuration</strong> section.</p></li>
</ol>
</section>
<section id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this heading">¶</a></h2>
<p>GitHub issues will be used for tracking requests and bugs. For questions go to <a class="reference external" href="http://forums.xilinx.com/">forums.xilinx.com</a>.</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this heading">¶</a></h2>
<p>Licensed under the Apache License, Version 2.0 (the “License”); you may not use this file except in compliance with the License.</p>
<p>You may obtain a copy of the License at <a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an “AS IS” BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
<p align="center"><sup>XD071 | &copy; Copyright 2021 Xilinx, Inc.</sup></p></section>
</section>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../SPA-UG/docs/A-performance-checklist.html" class="btn btn-neutral float-left" title="Performance Checklist" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2023, Xilinx, Inc. Xilinx is now a part of AMD.
      <span class="lastupdated">Last updated on February 03, 2023.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="https://pages.gitenterprise.xilinx.com/techdocs/Test/vvas/build/html/index.html#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>